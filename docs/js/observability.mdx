---
title: "Observability"
sidebarTitle: "Observability"
description: "Tracing, logging, and metrics for AI agents"
icon: "eye"
---

PraisonAI TypeScript provides observability hooks for tracing and monitoring.

## Installation

```bash
npm install praisonai
```

## Basic Tracing

```typescript
import { MemoryObservabilityAdapter } from 'praisonai';

const adapter = new MemoryObservabilityAdapter();

// Start a trace
const trace = adapter.startTrace('agent-execution', { userId: '123' });

// Create spans
const llmSpan = trace.startSpan('llm-call', 'llm');
llmSpan.setAttributes({ model: 'gpt-4o', tokens: 100 });
llmSpan.addEvent('response-received');
llmSpan.end('completed');

// End trace
trace.end('completed');
```

## Console Logging

```typescript
import { ConsoleObservabilityAdapter } from 'praisonai';

const adapter = new ConsoleObservabilityAdapter();

const trace = adapter.startTrace('my-operation');
// Logs: [TRACE START] my-operation

const span = trace.startSpan('step-1', 'custom');
// Logs:   [SPAN START] step-1 (custom)

span.end();
// Logs:   [SPAN END] ... - completed

trace.end();
// Logs: [TRACE END] ... - completed
```

## Global Adapter

```typescript
import { setObservabilityAdapter, getObservabilityAdapter, MemoryObservabilityAdapter } from 'praisonai';

// Set global adapter
setObservabilityAdapter(new MemoryObservabilityAdapter());

// Get global adapter
const adapter = getObservabilityAdapter();
```

## Span Types

```typescript
// LLM call span
const llmSpan = trace.startSpan('openai-call', 'llm');

// Tool call span
const toolSpan = trace.startSpan('calculator', 'tool');

// Agent span
const agentSpan = trace.startSpan('research-agent', 'agent');

// Workflow span
const workflowSpan = trace.startSpan('data-pipeline', 'workflow');

// Custom span
const customSpan = trace.startSpan('my-operation', 'custom');
```

## Events and Attributes

```typescript
const span = trace.startSpan('process', 'custom');

// Add attributes
span.setAttributes({
  inputSize: 1024,
  model: 'gpt-4o',
  temperature: 0.7
});

// Add events
span.addEvent('processing-started');
span.addEvent('step-completed', { step: 1, progress: 50 });
span.addEvent('processing-finished', { totalSteps: 2 });

span.end('completed');
```

## Retrieving Trace Data

```typescript
const adapter = new MemoryObservabilityAdapter();

const trace = adapter.startTrace('test');
const span = trace.startSpan('operation', 'custom');
span.end();
trace.end();

// Get trace data
const traceData = adapter.getTrace(trace.traceId);
console.log('Trace:', traceData?.name);
console.log('Spans:', traceData?.spans.length);

// Get all traces
const allTraces = adapter.getAllTraces();
```

## Custom Adapter

```typescript
import { ObservabilityAdapter, TraceContext, SpanContext } from 'praisonai';

class MyCustomAdapter implements ObservabilityAdapter {
  startTrace(name: string, metadata?: Record<string, any>): TraceContext {
    // Send to your observability backend
    return { /* ... */ };
  }
  
  // Implement other methods...
}
```
