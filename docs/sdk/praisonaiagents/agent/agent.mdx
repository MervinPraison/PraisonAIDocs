---
title: "Agent Module"
description: "Documentation for the praisonaiagents.agent.agent module"
icon: "user"
---

# Agent

The core class for AI agents with tools, memory, knowledge, and handoffs.

## âœ… Quick Start

```python
from praisonaiagents import Agent

agent = Agent(instructions="You are a helpful assistant")
response = agent.start("Hello!")
```

## âœ… Parameters Table

### Core Identity

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `name` | `str` | `None` | Agent name for identification |
| `role` | `str` | `None` | Role/job title defining expertise |
| `goal` | `str` | `None` | Primary objective |
| `backstory` | `str` | `None` | Background context |
| `instructions` | `str` | `None` | ðŸ’¡ **Canonical** - Direct instructions (overrides role/goal/backstory) |

### LLM Configuration

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `llm` | `str \| Any` | `None` | Model name (`"gpt-4o-mini"`, `"anthropic/claude-3-sonnet"`) or LLM object |
| `function_calling_llm` | `Any` | `None` | Dedicated LLM for function calling |
| `llm_config` | `Dict` | `None` | Advanced LLM config (`temperature`, `max_tokens`, etc.) |
| `base_url` | `str` | `None` | Custom endpoint URL (e.g., Ollama) |
| `api_key` | `str` | `None` | API key for LLM provider |

### Tools & Capabilities

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `tools` | `List[Any]` | `None` | Tools, functions, or MCP instances |
| `allow_delegation` | `bool` | `False` | Allow task delegation |
| `allow_code_execution` | `bool` | `False` | Enable code execution |
| `code_execution_mode` | `"safe" \| "unsafe"` | `"safe"` | Code execution safety mode |
| `handoffs` | `List[Agent \| Handoff]` | `None` | Agents for task delegation |

### Consolidated Feature Params

Each follows: `False`=disabled, `True`=defaults, `Config`=custom

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `memory` | `bool \| MemoryConfig` | `None` | Memory system |
| `knowledge` | `bool \| List[str] \| KnowledgeConfig` | `None` | Knowledge sources |
| `planning` | `bool \| PlanningConfig` | `False` | Planning mode |
| `reflection` | `bool \| ReflectionConfig` | `None` | Self-reflection |
| `guardrails` | `bool \| Callable \| GuardrailConfig` | `None` | Output validation |
| `web` | `bool \| WebConfig` | `None` | Web search/fetch |
| `context` | `bool \| ContextConfig` | `False` | Context management |
| `autonomy` | `bool \| Dict \| AutonomyConfig` | `None` | Autonomy settings |
| `output` | `str \| OutputConfig` | `None` | Output preset or config |
| `execution` | `str \| ExecutionConfig` | `None` | Execution preset or config |
| `caching` | `bool \| CachingConfig` | `None` | Caching settings |
| `hooks` | `List \| HooksConfig` | `None` | Event hooks |
| `skills` | `List[str] \| SkillsConfig` | `None` | Agent skills |
| `templates` | `TemplateConfig` | `None` | Template configuration |

## âœ… Precedence Ladder

<Info>
**Resolution Order**: Instance > Config > Array > Dict > String > Bool > Default

When you pass a consolidated param, the resolver checks in this order:
1. **Instance** - Already a config object? Use as-is
2. **Config** - Dataclass instance? Use as-is
3. **Array** - `["preset", {"override": value}]`? Apply overrides
4. **Dict** - `{"key": value}`? Convert to config
5. **String** - `"preset_name"` or URL? Look up preset or parse URL
6. **Bool** - `True`? Use defaults. `False`? Disable
7. **Default** - `None`? Use default value
</Info>

## âœ… Usage Forms Table

| Form | Example | When to Use |
|------|---------|-------------|
| **Bool** | `memory=True` | Enable with defaults |
| **String preset** | `output="verbose"` | Use predefined config |
| **URL** | `memory="redis://localhost"` | Backend-specific config |
| **Dict** | `memory={"backend": "redis"}` | Custom config as dict |
| **Array + overrides** | `output=["verbose", {"stream": False}]` | Preset + customization |
| **Config instance** | `memory=MemoryConfig(backend="redis")` | Full control |

### Examples for Each Form

```python
# Bool - enable with defaults
agent = Agent(instructions="...", memory=True)

# String preset
agent = Agent(instructions="...", output="verbose")

# URL scheme
agent = Agent(instructions="...", memory="redis://localhost:6379")

# Dict
agent = Agent(instructions="...", memory={"backend": "postgres", "user_id": "u1"})

# Array with overrides
agent = Agent(instructions="...", output=["verbose", {"stream": False}])

# Config instance
from praisonaiagents.config import MemoryConfig
agent = Agent(instructions="...", memory=MemoryConfig(backend="redis"))
```

## âœ… Presets & Options

### Output Presets

| Preset | verbose | markdown | stream | metrics |
|--------|---------|----------|--------|---------|
| `"minimal"` | âŒ | âŒ | âŒ | âŒ |
| `"normal"` | âœ… | âœ… | âŒ | âŒ |
| `"verbose"` | âœ… | âœ… | âŒ | âœ… |
| `"debug"` | âœ… | âœ… | âŒ | âœ… |
| `"silent"` | âŒ | âŒ | âŒ | âŒ |

### Execution Presets

| Preset | max_iter | max_retry_limit |
|--------|----------|-----------------|
| `"fast"` | 10 | 1 |
| `"balanced"` | 20 | 2 |
| `"thorough"` | 50 | 5 |
| `"unlimited"` | 1000 | 10 |

### Memory Presets

| Preset | Backend |
|--------|---------|
| `"file"` | Local file storage |
| `"sqlite"` | SQLite database |
| `"redis"` | Redis server |
| `"postgres"` | PostgreSQL |
| `"mongodb"` | MongoDB |

### Web Presets

| Preset | search | fetch | provider |
|--------|--------|-------|----------|
| `"duckduckgo"` | âœ… | âœ… | DuckDuckGo |
| `"tavily"` | âœ… | âœ… | Tavily |
| `"google"` | âœ… | âœ… | Google |
| `"search_only"` | âœ… | âŒ | Default |
| `"fetch_only"` | âŒ | âœ… | Default |

### Reflection Presets

| Preset | min_iterations | max_iterations |
|--------|----------------|----------------|
| `"minimal"` | 1 | 1 |
| `"standard"` | 1 | 3 |
| `"thorough"` | 2 | 5 |

### Guardrail Presets

| Preset | max_retries | on_fail |
|--------|-------------|---------|
| `"strict"` | 5 | raise |
| `"permissive"` | 1 | skip |
| `"safety"` | 3 | retry |

## âœ… Methods

| Method | Description |
|--------|-------------|
| `start(prompt, **kwargs)` | Start agent with prompt (wrapper for `chat()`) |
| `chat(prompt, ...)` | Chat with the agent |
| `achat(prompt, ...)` | Async chat |
| `astart(prompt, **kwargs)` | Async start |
| `query(question, **kwargs)` | Query knowledge base (RAG) |
| `retrieve(query, **kwargs)` | Retrieve context from knowledge |
| `clear_history()` | Clear chat history |
| `execute_tool(name, args)` | Execute a tool dynamically |

### Class Methods

| Method | Description |
|--------|-------------|
| `from_template(uri, config, offline, **kwargs)` | Create agent from template |

## âœ… Common Recipes

### Simple Agent with Instructions

```python
from praisonaiagents import Agent

agent = Agent(
    name="Assistant",
    instructions="You are a helpful AI assistant that provides concise, accurate answers."
)
response = agent.start("What is the capital of France?")
print(response)
```

### Agent with Tools

```python
from praisonaiagents import Agent, tool

@tool
def get_weather(city: str) -> str:
    """Get the current weather for a city."""
    return f"Weather in {city}: Sunny, 22Â°C"

agent = Agent(
    name="Weather Assistant",
    instructions="Help users check the weather",
    tools=[get_weather]
)
response = agent.start("What's the weather in Paris?")
```

### Agent with Handoffs

```python
from praisonaiagents import Agent

billing_agent = Agent(name="Billing", instructions="Handle billing inquiries")
tech_agent = Agent(name="Tech Support", instructions="Solve technical issues")

main_agent = Agent(
    name="Customer Service",
    instructions="Route customers to the right department",
    handoffs=[billing_agent, tech_agent]
)
response = main_agent.start("I have a billing question")
```

### Agent with Knowledge Base

```python
from praisonaiagents import Agent

agent = Agent(
    name="Research Assistant",
    instructions="Answer questions using the knowledge base",
    knowledge=["research_papers/", "data.pdf"]
)
response = agent.start("Summarize the key findings")
```

### Agent with Streaming

```python
from praisonaiagents import Agent

agent = Agent(
    name="Story Writer",
    instructions="Write creative stories",
    output="verbose"  # Use output preset
)

# Streaming response
for chunk in agent.start("Write a short story", stream=True):
    print(chunk, end="", flush=True)
```

### Agent with Custom LLM

```python
from praisonaiagents import Agent

# Using Ollama
agent = Agent(
    name="Local Assistant",
    instructions="You are a helpful assistant",
    llm="ollama/llama3",
    base_url="http://localhost:11434"
)

# Using Anthropic
agent = Agent(
    name="Claude Assistant",
    instructions="You are a helpful assistant",
    llm="anthropic/claude-3-sonnet-20240229"
)
```

### Agent with Consolidated Config

```python
from praisonaiagents import Agent

agent = Agent(
    name="Advanced Agent",
    instructions="You are an advanced assistant",
    output="verbose",           # Output preset
    execution="thorough",       # Execution preset
    memory=True,                # Enable memory with defaults
    planning=True,              # Enable planning mode
    reflection=True,            # Enable self-reflection
)
```

## Async Support

The Agent class provides full async support:

```python
import asyncio
from praisonaiagents import Agent

async def main():
    agent = Agent(
        name="AsyncAgent",
        instructions="Handle async operations efficiently"
    )
    
    # Async chat
    result = await agent.achat("Process this request")
    print(result)
    
    # Async start
    result = await agent.astart("Another request")
    print(result)

asyncio.run(main())
```

## Multi-Agent Safe

Agents are designed to be multi-agent safe. Each agent maintains its own:
- Chat history
- Memory instance
- Knowledge base
- Session state

Multiple agents can run concurrently without interference.

## See Also

- [Agents Module](/docs/sdk/praisonaiagents/agents/agents) - Multi-agent orchestration
- [Handoff Module](/docs/sdk/praisonaiagents/handoff/handoff) - Agent-to-agent handoffs
- [Tools Module](/docs/sdk/praisonaiagents/tools/tools) - Tool system
- [Memory Module](/docs/sdk/praisonaiagents/memory/memory) - Memory management
- [Knowledge Module](/docs/sdk/praisonaiagents/knowledge/knowledge) - Knowledge bases