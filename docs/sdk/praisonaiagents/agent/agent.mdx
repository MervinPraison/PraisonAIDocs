---
title: "Agent Module"
description: "Documentation for the praisonaiagents.agent.agent module"
icon: "user"
---

# Module praisonaiagents.agent.agent

## Classes

### Agent

The main class representing an AI agent with specific role, goal, and capabilities. Agents can use tools, access knowledge bases, maintain memory, and collaborate with other agents via handoffs.

**Canonical**: Use `instructions` instead of `backstory` for simple agents.

#### Parameters

**Core Identity**
- `name: Optional[str] = None` - Name of the agent for identification and logging
- `role: Optional[str] = None` - Role or job title defining expertise
- `goal: Optional[str] = None` - Primary objective the agent aims to achieve
- `backstory: Optional[str] = None` - Background context shaping personality
- `instructions: Optional[str] = None` - Direct instructions (overrides role/goal/backstory)

**LLM Configuration**
- `llm: Optional[Union[str, Any]] = None` - Model name (e.g., `"gpt-4o-mini"`, `"anthropic/claude-3-sonnet"`) or LLM object
- `function_calling_llm: Optional[Any] = None` - Dedicated LLM for function calling
- `llm_config: Optional[Dict[str, Any]] = None` - Advanced LLM configuration
- `base_url: Optional[str] = None` - Custom LLM endpoint URL (e.g., Ollama)
- `api_key: Optional[str] = None` - API key for LLM provider

**Tools & Capabilities**
- `tools: Optional[List[Any]] = None` - List of tools, functions, or MCP instances
- `allow_delegation: bool = False` - Allow task delegation to other agents
- `allow_code_execution: Optional[bool] = False` - Enable code execution
- `code_execution_mode: Literal["safe", "unsafe"] = "safe"` - Code execution safety mode
- `handoffs: Optional[List[Union[Agent, Handoff]]] = None` - Agents for task delegation

**Session Management**
- `auto_save: Optional[str] = None` - Session name for auto-saving
- `rate_limiter: Optional[Any] = None` - Rate limiter instance

**Consolidated Feature Params** (agent-centric API)

Each follows: `False`=disabled, `True`=defaults, `Config`=custom

- `memory: Optional[Any] = None` - Memory system (`bool`, `MemoryConfig`, or `MemoryManager`)
- `knowledge: Optional[Union[bool, List[str], Any]] = None` - Knowledge sources (`bool`, list, `KnowledgeConfig`, or `Knowledge`)
- `planning: Optional[Union[bool, Any]] = False` - Planning mode (`bool` or `PlanningConfig`)
- `reflection: Optional[Union[bool, Any]] = None` - Self-reflection (`bool` or `ReflectionConfig`)
- `guardrails: Optional[Union[bool, Callable, Any]] = None` - Output validation (`bool`, `Callable`, or `GuardrailConfig`)
- `web: Optional[Union[bool, Any]] = None` - Web search/fetch (`bool` or `WebConfig`)
- `context: Optional[Union[bool, Any]] = False` - Context management (`bool`, `ManagerConfig`, or `ContextManager`)
- `autonomy: Optional[Union[bool, Dict, Any]] = None` - Autonomy settings (`bool`, `dict`, or `AutonomyConfig`)
- `verification_hooks: Optional[List[Any]] = None` - Verification hook instances
- `output: Optional[Union[str, Any]] = None` - Output preset (`"minimal"`, `"verbose"`, `"debug"`, `"silent"`) or `OutputConfig`
- `execution: Optional[Union[str, Any]] = None` - Execution preset (`"fast"`, `"thorough"`, `"unlimited"`) or `ExecutionConfig`
- `templates: Optional[Any] = None` - Template configuration (`TemplateConfig`)
- `caching: Optional[Union[bool, Any]] = None` - Caching settings (`bool` or `CachingConfig`)
- `hooks: Optional[Union[List, Any]] = None` - Event hooks (`list` or `HooksConfig`)
- `skills: Optional[Union[List[str], Any]] = None` - Agent skills (`list` or `SkillsConfig`)

#### Methods

- `start(prompt: str, **kwargs)` - Start the agent with a prompt (convenience wrapper for `chat()`)
- `chat(prompt, temperature=1.0, tools=None, output_json=None, output_pydantic=None, reasoning_steps=False, stream=None, ...)` - Chat with the agent
- `achat(prompt, ...)` - Async version of chat method
- `astart(prompt, **kwargs)` - Async version of start method
- `query(question: str, **kwargs) -> RAGResult` - Query knowledge base with RAG
- `retrieve(query: str, **kwargs) -> ContextPack` - Retrieve context from knowledge base
- `clear_history()` - Clear chat history
- `execute_tool(function_name, arguments)` - Execute a tool dynamically

#### Class Methods

- `from_template(uri: str, config=None, offline=False, **kwargs) -> Agent` - Create agent from template

## Advanced Parameters

<ParamField path="instructions" type="str" optional>
  Alternative to role/goal/backstory. Provide concise instructions for the agent's behaviour and purpose. **Canonical for simple agents.**
</ParamField>

<ParamField path="output" type="Union[str, OutputConfig]" optional>
  Output configuration preset or custom config. Presets:
  - `"minimal"` - No verbose output, no markdown, no metrics
  - `"verbose"` - Full output with metrics and reasoning
  - `"debug"` - Maximum verbosity for debugging
  - `"silent"` - No console output
</ParamField>

<ParamField path="execution" type="Union[str, ExecutionConfig]" optional>
  Execution configuration preset or custom config. Presets:
  - `"fast"` - max_iter=10, max_retry_limit=1
  - `"thorough"` - max_iter=50, max_retry_limit=5
  - `"unlimited"` - max_iter=1000, max_retry_limit=10
</ParamField>

<ParamField path="memory" type="Union[bool, MemoryConfig]" optional>
  Memory configuration. `True` enables with defaults, `MemoryConfig` for custom settings.
</ParamField>

<ParamField path="knowledge" type="Union[bool, List[str], KnowledgeConfig]" optional>
  Knowledge base configuration. Can be file paths, URLs, or `KnowledgeConfig` for advanced settings.
</ParamField>

<ParamField path="planning" type="Union[bool, PlanningConfig]" default="False" optional>
  Enable planning mode. When True, agent creates and follows a plan before executing.
</ParamField>

<ParamField path="guardrails" type="Union[bool, Callable, GuardrailConfig]" optional>
  Output validation. Can be a validation function `(TaskOutput) -> (bool, Any)` or `GuardrailConfig`.
</ParamField>

<ParamField path="handoffs" type="List[Union[Agent, Handoff]]" optional>
  List of agents this agent can hand off tasks to. Enables agent-to-agent delegation.
</ParamField>

<ParamField path="llm_config" type="Dict[str, Any]" optional>
  Advanced LLM configuration options.
  ```python
  llm_config = {
      "temperature": 0.7,
      "max_tokens": 1000,
      "top_p": 0.9
  }
  ```
</ParamField>

<ParamField path="base_url" type="str" optional>
  Custom API endpoint URL. Override default provider endpoints (e.g., for Ollama).
</ParamField>

## Advanced Examples

### Simple Agent with Instructions

```python
from praisonaiagents import Agent

agent = Agent(
    name="Assistant",
    instructions="You are a helpful AI assistant that provides concise, accurate answers."
)
response = agent.start("What is the capital of France?")
print(response)
```

### Agent with Tools

```python
from praisonaiagents import Agent, tool

@tool
def get_weather(city: str) -> str:
    """Get the current weather for a city."""
    return f"Weather in {city}: Sunny, 22Â°C"

agent = Agent(
    name="Weather Assistant",
    instructions="Help users check the weather",
    tools=[get_weather]
)
response = agent.start("What's the weather in Paris?")
```

### Agent with Handoffs

```python
from praisonaiagents import Agent

billing_agent = Agent(name="Billing", instructions="Handle billing inquiries")
tech_agent = Agent(name="Tech Support", instructions="Solve technical issues")

main_agent = Agent(
    name="Customer Service",
    instructions="Route customers to the right department",
    handoffs=[billing_agent, tech_agent]
)
response = main_agent.start("I have a billing question")
```

### Agent with Knowledge Base

```python
from praisonaiagents import Agent

agent = Agent(
    name="Research Assistant",
    instructions="Answer questions using the knowledge base",
    knowledge=["research_papers/", "data.pdf"]
)
response = agent.start("Summarize the key findings")
```

### Agent with Streaming

```python
from praisonaiagents import Agent

agent = Agent(
    name="Story Writer",
    instructions="Write creative stories",
    output="verbose"  # Use output preset
)

# Streaming response
for chunk in agent.start("Write a short story", stream=True):
    print(chunk, end="", flush=True)
```

### Agent with Custom LLM

```python
from praisonaiagents import Agent

# Using Ollama
agent = Agent(
    name="Local Assistant",
    instructions="You are a helpful assistant",
    llm="ollama/llama3",
    base_url="http://localhost:11434"
)

# Using Anthropic
agent = Agent(
    name="Claude Assistant",
    instructions="You are a helpful assistant",
    llm="anthropic/claude-3-sonnet-20240229"
)
```

### Agent with Consolidated Config

```python
from praisonaiagents import Agent

agent = Agent(
    name="Advanced Agent",
    instructions="You are an advanced assistant",
    output="verbose",           # Output preset
    execution="thorough",       # Execution preset
    memory=True,                # Enable memory with defaults
    planning=True,              # Enable planning mode
    reflection=True,            # Enable self-reflection
)
```

## Async Support

The Agent class provides full async support:

```python
import asyncio
from praisonaiagents import Agent

async def main():
    agent = Agent(
        name="AsyncAgent",
        instructions="Handle async operations efficiently"
    )
    
    # Async chat
    result = await agent.achat("Process this request")
    print(result)
    
    # Async start
    result = await agent.astart("Another request")
    print(result)

asyncio.run(main())
```

## Multi-Agent Safe

Agents are designed to be multi-agent safe. Each agent maintains its own:
- Chat history
- Memory instance
- Knowledge base
- Session state

Multiple agents can run concurrently without interference.

## See Also

- [Agents Module](/docs/sdk/praisonaiagents/agents/agents) - Multi-agent orchestration
- [Handoff Module](/docs/sdk/praisonaiagents/handoff/handoff) - Agent-to-agent handoffs
- [Tools Module](/docs/sdk/praisonaiagents/tools/tools) - Tool system
- [Memory Module](/docs/sdk/praisonaiagents/memory/memory) - Memory management
- [Knowledge Module](/docs/sdk/praisonaiagents/knowledge/knowledge) - Knowledge bases