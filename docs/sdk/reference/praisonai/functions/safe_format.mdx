---
title: "safe_format"
description: "API documentation for safe_format"
---

# safe_format

*Module: [agents_generator](../modules/agents_generator)*

Safely format a string template, preserving JSON-like curly braces.

This handles cases where templates contain Gutenberg block syntax like
&#123;"level":2&#125; which would cause KeyError with standard .format().

Uses a two-pass approach:
1. Escape all &#123;&#123; and &#125;&#125; (already escaped braces)
2. Only substitute known variable placeholders

Args:
    template: String template with &#123;variable&#125; placeholders
    **kwargs: Variable substitutions to apply
    
Returns:
    Formatted string with variables substituted and JSON preserved
    
Example:
    &gt;&gt;&gt; safe_format('Use &lt;!-- wp:heading &#123;"level":2&#125; --&gt; for &#123;topic&#125;', topic='AI')
    'Use &lt;!-- wp:heading &#123;"level":2&#125; --&gt; for AI'

## Signature

```python
def safe_format(template: str) -> str
```

## Parameters

| Parameter | Type | Description |
|-----------|------|-------------|
| `template` | `str` | - |

## Returns

Type: `str`
