---
title: "profiler"
description: "PraisonAI Profiler Module"
icon: "gauge"
---

# profiler

<Badge color="purple">Wrapper</Badge>

PraisonAI Profiler Module

Standardized profiling for performance monitoring across praisonai and praisonai-agents.

Features:
- Import timing
- Function execution timing
- Flow tracking
- File/module usage tracking
- Memory usage (tracemalloc)
- API call profiling (wall-clock time)
- Streaming profiling (TTFT, total time)
- Statistics (p50, p95, p99)
- cProfile integration
- Flamegraph generation
- Line-level profiling
- JSON/HTML export

## Import

```python
from praisonai import profiler
```

## Classes

### TimingRecord

Record of a single timing measurement.

<Accordion title="Properties">

| Property | Type |
|----------|------|
| `name` | `str` |
| `duration_ms` | `float` |
| `category` | `str` |
| `file` | `str` |
| `line` | `int` |
| `timestamp` | `float` |

</Accordion>

### APICallRecord

Record of an API/HTTP call.

<Accordion title="Properties">

| Property | Type |
|----------|------|
| `endpoint` | `str` |
| `method` | `str` |
| `duration_ms` | `float` |
| `status_code` | `int` |
| `request_size` | `int` |
| `response_size` | `int` |
| `timestamp` | `float` |

</Accordion>

### StreamingRecord

Record of streaming operation (LLM responses).

<Accordion title="Properties">

| Property | Type |
|----------|------|
| `name` | `str` |
| `ttft_ms` | `float` |
| `total_ms` | `float` |
| `chunk_count` | `int` |
| `total_tokens` | `int` |
| `timestamp` | `float` |

</Accordion>

### MemoryRecord

Record of memory usage.

<Accordion title="Properties">

| Property | Type |
|----------|------|
| `name` | `str` |
| `current_kb` | `float` |
| `peak_kb` | `float` |
| `timestamp` | `float` |

</Accordion>

### ImportRecord

Record of a module import.

<Accordion title="Properties">

| Property | Type |
|----------|------|
| `module` | `str` |
| `duration_ms` | `float` |
| `parent` | `str` |
| `timestamp` | `float` |

</Accordion>

### FlowRecord

Record of execution flow.

<Accordion title="Properties">

| Property | Type |
|----------|------|
| `step` | `int` |
| `name` | `str` |
| `file` | `str` |
| `line` | `int` |
| `duration_ms` | `float` |
| `timestamp` | `float` |

</Accordion>

### StreamingTracker

Track streaming operations (LLM responses).

<Accordion title="Constructor Parameters">

| Parameter | Type | Required | Default |
|-----------|------|----------|---------|
| `name` | `str` | Yes | `-` |

</Accordion>

<Accordion title="Methods">

- **start**(``) → `None`
  Start tracking.
- **first_token**(``) → `None`
  Mark time to first token.
- **chunk**(``) → `None`
  Record a chunk received.
- **end**(`total_tokens: int`) → `None`
  End tracking and record to Profiler.
- **ttft_ms**(``) → `float`
  Get time to first token in ms.
- **elapsed_ms**(``) → `float`
  Get elapsed time in ms.

</Accordion>

### Profiler

Centralized profiler for performance monitoring.

Thread-safe singleton pattern for global access.

Features:
- Function/block timing
- API call profiling (wall-clock)
- Streaming profiling (TTFT)
- Memory profiling
- Import timing
- Statistics (p50, p95, p99)
- cProfile integration
- Export (JSON, HTML)

### ImportProfiler

Context manager to profile imports.

<Accordion title="Methods">

- **get_imports**(`min_duration_ms: float`) → `List`
  Get recorded imports.
- **get_slowest**(`n: int`) → `List`
  Get N slowest imports.

</Accordion>

## Functions

### profile()

Decorator to profile a function.

```python
def profile(func) -> Any
```

<Expandable title="Parameters">

- **func** (`Optional`)

</Expandable>

### profile_async()

Decorator to profile an async function.

```python
def profile_async(func) -> Any
```

<Expandable title="Parameters">

- **func** (`Optional`)

</Expandable>

### profile_imports()

Create an import profiler context manager.

```python
def profile_imports() -> Any
```

### profile_api()

Decorator to profile a function as an API call.

```python
def profile_api(func) -> Any
```

<Expandable title="Parameters">

- **func** (`Optional`)

</Expandable>

### profile_api_async()

Decorator to profile an async function as an API call.

```python
def profile_api_async(func) -> Any
```

<Expandable title="Parameters">

- **func** (`Optional`)

</Expandable>

### profile_detailed()

Decorator for detailed cProfile profiling.

```python
def profile_detailed(func) -> Any
```

<Expandable title="Parameters">

- **func** (`Optional`)

</Expandable>

### profile_lines()

Decorator for line-level profiling.

```python
def profile_lines(func) -> Any
```

<Expandable title="Parameters">

- **func** (`Optional`)

</Expandable>

### time_import()

Time how long it takes to import a module.

Returns duration in milliseconds.

```python
def time_import(module_name: str) -> float
```

<Expandable title="Parameters">

- **module_name** (`str`)

</Expandable>

### check_module_available()

Check if a module is available without importing it.

Uses importlib.util.find_spec which is fast.

```python
def check_module_available(module_name: str) -> bool
```

<Expandable title="Parameters">

- **module_name** (`str`)

</Expandable>
