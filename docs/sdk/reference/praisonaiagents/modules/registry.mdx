---
title: "registry"
description: "Hook Registry for PraisonAI Agents."
icon: "file-code"
---

# praisonaiagents.hooks.registry

<Badge color="blue">Core SDK</Badge>

Hook Registry for PraisonAI Agents.

Manages registration and lookup of hooks for different events.

## Overview
This module provides components for registry.

## Classes

**[Dedicated Page: HookRegistry](../classes/HookRegistry)**

### HookRegistry

Registry for managing hooks.

Provides methods to register, unregister, and lookup hooks
for different events.

Example:
    registry = HookRegistry()
    
    # Register a function hook using decorator
    @registry.on(HookEvent.BEFORE_TOOL)
    def validate_tool(event_data):
        if event_data.tool_name == "dangerous":
            return HookResult.deny("Tool is dangerous")
        return HookResult.allow()
    
    # Register a command hook
    registry.register_command(
        event=HookEvent.BEFORE_TOOL,
        command="python /path/to/validator.py",
        matcher="write_*"
    )

<Accordion title="Constructor Parameters">

| Parameter | Type | Required | Default |
|-----------|------|----------|---------|
| `enabled` | `bool` | No | `True` |
</Accordion>

<Accordion title="Methods">
- **enabled**(``) → `bool`
  Check if hooks are enabled.
- **enabled**(`value: bool`) → `Any`
  Enable or disable hooks.
- **register**(`hook: HookDefinition`) → `str`
  Register a hook definition.
- **register_function**(`event: HookEvent, func: Callable`) → `str`
  Register a Python function as a hook.
- **register_command**(`event: HookEvent, command: str, matcher: Optional`) → `str`
  Register a shell command as a hook.
- **on**(`event: HookEvent, matcher: Optional`) → `Callable`
  Decorator to register a function as a hook.
- **unregister**(`hook_id: str`) → `bool`
  Unregister a hook by ID.
- **get_hooks**(`event: HookEvent, target: Optional`) → `List`
  Get all hooks for an event, optionally filtered by target.
- **has_hooks**(`event: HookEvent`) → `bool`
  Check if there are any hooks registered for an event.
- **clear**(`event: Optional`) → `Any`
  Clear all hooks or hooks for a specific event.
- **list_hooks**(``) → `Dict`
  List all registered hooks.
- **enable_hook**(`hook_id: str`) → `bool`
  Enable a specific hook.
- **disable_hook**(`hook_id: str`) → `bool`
  Disable a specific hook.
- **set_global_timeout**(`timeout: float`) → `Any`
  Set the global timeout for all hooks.
</Accordion>


## Functions

**[Dedicated Page: get_default_registry()](../functions/get_default_registry)**

### get_default_registry()

Get the default global hook registry.

```python
def get_default_registry() -> HookRegistry
```


**[Dedicated Page: set_default_registry()](../functions/set_default_registry)**

### set_default_registry()

Set the default global hook registry.

```python
def set_default_registry(registry: HookRegistry) -> Any
```

<Expandable title="Parameters">
- **registry** (`HookRegistry`)
</Expandable>


**[Dedicated Page: add_hook()](../functions/add_hook)**

### add_hook()

Register a hook callback. Simplified API.

Accepts both string event names and HookEvent enums:
    add_hook('before_tool', my_callback)  # String
    add_hook(HookEvent.BEFORE_TOOL, my_callback)  # Enum

Can also be used as a decorator:
    @add_hook('before_tool')
    def my_hook(data):
        return HookResult.allow()

```python
def add_hook(event: Union[str, HookEvent], callback: Optional[Callable[[HookInput], HookResult]], priority: int, matcher: Optional[str]) -> Union[str, Callable]
```

<Expandable title="Parameters">
- **event** (`Union`)
  Hook event name ('before_tool', 'after_llm', etc.) or HookEvent enum
- **callback** (`Optional`)
  Function to call when hook fires (optional when using as decorator)
- **priority** (`int`)
  Execution order (lower = earlier). Default 10. (Reserved for future use)
- **matcher** (`Optional`)
  Optional regex pattern to match specific targets (e.g., tool names)
</Expandable>


**[Dedicated Page: remove_hook()](../functions/remove_hook)**

### remove_hook()

Remove a hook by ID. Simplified API.

```python
def remove_hook(hook_id: str) -> bool
```

<Expandable title="Parameters">
- **hook_id** (`str`)
  The hook ID returned by add_hook()
</Expandable>


**[Dedicated Page: has_hook()](../functions/has_hook)**

### has_hook()

Check if any hooks are registered for an event. Simplified API.

Accepts both string event names and HookEvent enums:
    has_hook('before_tool')  # String
    has_hook(HookEvent.BEFORE_TOOL)  # Enum

```python
def has_hook(event: Union[str, HookEvent]) -> bool
```

<Expandable title="Parameters">
- **event** (`Union`)
  Hook event name or HookEvent enum
</Expandable>

