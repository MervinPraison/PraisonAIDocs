---
title: "wrap_tool_call"
description: "API documentation for wrap_tool_call"
icon: "function"
---

# wrap_tool_call

*Module: [middleware](../modules/middleware)*

Decorator to mark a function as a wrap_tool_call middleware.

The function receives (request, call_next) and should call call_next(request)
to continue the chain, or return early to short-circuit.

Example:
    @wrap_tool_call
    def retry_flaky_tool(request, call_next):
        last_error = None
        for _ in range(3):
            try:
                return call_next(request)
            except Exception as e:
                last_error = e
        raise last_error

## Signature

```python
def wrap_tool_call(func: WrapToolCallFn) -> WrapToolCallFn
```

## Parameters

| Parameter | Type | Description |
|-----------|------|-------------|
| `func` | `WrapToolCallFn` | - |

## Returns

Type: `WrapToolCallFn`
