---
title: "optimize"
description: "API documentation for ContextOptimizer.optimize"
icon: "function"
---

# ContextOptimizer.optimize

*Class: [ContextOptimizer](../classes/ContextOptimizer)*

Optimize messages to fit within target tokens.

## Signature

```python
def optimize(messages: List[Dict[str, Any]], target_tokens: int, ledger: ContextLedger) -> tuple[List[Dict[str, Any]], OptimizationResult]
```

## Parameters

| Parameter | Type | Description |
|-----------|------|-------------|
| `messages` | `List` | - |
| `target_tokens` | `int` | - |
| `ledger` | `ContextLedger` | - |

## Returns

Type: `tuple[List[Dict[str, Any]], OptimizationResult]`
