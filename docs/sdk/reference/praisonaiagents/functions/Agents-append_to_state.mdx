---
title: "append_to_state"
description: "API documentation for Agents.append_to_state"
icon: "function"
---

# Agents.append_to_state

*Class: [Agents](../classes/Agents)*

Append a value to a list state. Creates the list if it doesn't exist.

Args:
    key: State key
    value: Value to append
    max_length: Optional maximum length for the list
    
Returns:
    The updated list
    
Raises:
    TypeError: If the existing value is not a list and convert_to_list=False

## Signature

```python
def append_to_state(key: str, value: Any, max_length: Optional[int]) -> List[Any]
```

## Parameters

| Parameter | Type | Description |
|-----------|------|-------------|
| `key` | `str` | - |
| `value` | `Any` | - |
| `max_length` | `Optional` | - |

## Returns

Type: `List[Any]`
