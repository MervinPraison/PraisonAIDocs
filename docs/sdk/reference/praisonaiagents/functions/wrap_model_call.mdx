---
title: "wrap_model_call"
description: "API documentation for wrap_model_call"
icon: "function"
---

# wrap_model_call

*Module: [middleware](../modules/middleware)*

Decorator to mark a function as a wrap_model_call middleware.

The function receives (request, call_next) and should call call_next(request)
to continue the chain, or return early to short-circuit.

Example:
    @wrap_model_call
    def retry_on_error(request, call_next):
        for _ in range(3):
            try:
                return call_next(request)
            except Exception:
                pass
        raise RuntimeError("All retries failed")

## Signature

```python
def wrap_model_call(func: WrapModelCallFn) -> WrapModelCallFn
```

## Parameters

| Parameter | Type | Description |
|-----------|------|-------------|
| `func` | `WrapModelCallFn` | - |

## Returns

Type: `WrapModelCallFn`
