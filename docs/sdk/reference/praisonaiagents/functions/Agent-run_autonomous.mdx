---
title: "run_autonomous"
description: "Run an autonomous task execution loop."
icon: "function"
---

# run_autonomous

<div className="flex items-center gap-2">
  <Badge color="purple">Method</Badge>
</div>

> This is a method of the [**Agent**](../classes/Agent) class in the [**agent**](../modules/agent) module.

Run an autonomous task execution loop.

This method executes a task autonomously, using the agent's tools
and capabilities to complete the task. It handles:
- Progressive escalation based on task complexity
- Doom loop detection and recovery
- Iteration limits and timeouts
- Completion detection (keyword-based or promise-based)
- Optional context clearing between iterations

## Signature

```python
def run_autonomous(prompt: str, max_iterations: Optional[int], timeout_seconds: Optional[float], completion_promise: Optional[str], clear_context: bool) -> Any
```

## Parameters

<ParamField query="prompt" type="str" required={true}>
  The task to execute
</ParamField>

<ParamField query="max_iterations" type="Optional" required={false}>
  Override max iterations (default from config)
</ParamField>

<ParamField query="timeout_seconds" type="Optional" required={false}>
  Timeout in seconds (default: no timeout)
</ParamField>

<ParamField query="completion_promise" type="Optional" required={false}>
  Optional string that signals completion when  wrapped in &lt;promise&gt;TEXT&lt;/promise&gt; tags in the response
</ParamField>

<ParamField query="clear_context" type="bool" required={false} default="False">
  Whether to clear chat history between iterations (forces agent to rely on external state like files)
</ParamField>

### Returns

<ResponseField name="Returns" type="Any">
  AutonomyResult with success status, output, and metadata
</ResponseField>

### Exceptions

<AccordionGroup>
  <Accordion title="ValueError">
    If autonomy is not enabled
  </Accordion>
</AccordionGroup>

## Usage

```python
agent = Agent(instructions="...", autonomy=True)
    result = agent.run_autonomous(
        "Refactor the auth module",
        completion_promise="DONE",
        clear_context=True
    )
    if result.success:
        print(result.output)
```
