---
title: "check_and_add"
description: "Check if content hash exists and add if new."
icon: "function"
---


<div className="flex items-center gap-2">
  <Badge color="purple">Method</Badge>
</div>

> This is a method of the [**SessionDeduplicationCache**](../classes/SessionDeduplicationCache) class in the [**manager**](../modules/manager) module.

Check if content hash exists and add if new.

## Signature

```python
def check_and_add(content_hash: str, agent_name: str, tokens: int) -> bool
```

## Parameters

<ParamField query="content_hash" type="str" required={true}>
  Hash of the content
</ParamField>

<ParamField query="agent_name" type="str" required={true}>
  Name of the agent adding this content
</ParamField>

<ParamField query="tokens" type="int" required={false} default="0">
  Estimated tokens in this content
</ParamField>

### Returns

<ResponseField name="Returns" type="bool">
  True if duplicate (already exists), False if new
</ResponseField>
