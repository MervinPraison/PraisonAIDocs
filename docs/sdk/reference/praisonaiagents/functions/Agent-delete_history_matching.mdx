---
title: "Agent.delete_history_matching"
description: "API documentation for Agent.delete_history_matching"
---

# Agent.delete_history_matching

*Class: [Agent](../classes/Agent)*

Delete all messages matching a pattern.

Useful for removing all image-related messages after processing.

Args:
    pattern: Substring to match in message content
    
Returns:
    Number of messages deleted

## Signature

```python
def delete_history_matching(pattern: str) -> int
```

## Parameters

| Parameter | Type | Description |
|-----------|------|-------------|
| `pattern` | `str` | - |

## Returns

Type: `int`
