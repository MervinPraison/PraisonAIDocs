---
title: "retrieval_config"
description: "RetrievalConfig - Unified configuration for Agent retrieval behavior."
icon: "settings"
---

# retrieval_config

<Badge color="blue">Core SDK</Badge>

RetrievalConfig - Unified configuration for Agent retrieval behavior.

This is the SINGLE configuration surface for all retrieval settings.
Replaces separate knowledge_config and rag_config parameters.

## Import

```python
from praisonaiagents import retrieval_config
```

## Classes

### RetrievalPolicy

*Extends: str, Enum*

Policy for when to perform retrieval.

### CitationsMode

*Extends: str, Enum*

How to include citations in responses.

### RetrievalConfig

Unified configuration for Agent retrieval behavior.

This is the SINGLE configuration surface that replaces:
- knowledge_config
- rag_config

<Accordion title="Properties">

| Property | Type |
|----------|------|
| `enabled` | `bool` |
| `policy` | `RetrievalPolicy` |
| `top_k` | `int` |
| `min_score` | `float` |
| `max_context_tokens` | `int` |
| `rerank` | `bool` |
| `hybrid` | `bool` |
| `citations` | `bool` |
| `citations_mode` | `CitationsMode` |
| `model_context_window` | `Optional[int]` |
| `reserved_response_tokens` | `int` |
| `dynamic_budget` | `bool` |
| `strategy` | `str` |
| `compress` | `bool` |
| `compression_ratio` | `float` |
| `include_glob` | `Optional` |
| `exclude_glob` | `Optional` |
| `path_filter` | `Optional[str]` |
| `vector_store_provider` | `str` |
| `vector_store_config` | `Dict[str, Any]` |
| `collection_name` | `Optional[str]` |
| `persist_path` | `str` |
| `embedder_provider` | `Optional[str]` |
| `embedder_model` | `Optional[str]` |
| `auto_keywords` | `frozenset` |
| `auto_min_length` | `int` |
| `context_template` | `str` |
| `system_separation` | `bool` |

</Accordion>

<Accordion title="Methods">

- **get_token_budget**(`model_name`) → `Any`
  Get TokenBudget instance for this config.
- **get_strategy**(`corpus_stats: Any`) → `Any`
  Get retrieval strategy based on config and corpus stats.
- **to_dict**(``) → `Dict[str, Any]`
  Convert to dictionary.
- **to_knowledge_config**(``) → `Dict[str, Any]`
  Convert to Knowledge-compatible config.
- **to_rag_config**(``) → `Dict[str, Any]`
  Convert to RAG pipeline config.
- **should_retrieve**(`query: str, force: bool, skip: bool`) → `bool`
  Determine if retrieval should be performed for a query.

</Accordion>

## Functions

### create_retrieval_config()

Create RetrievalConfig from various input formats.

Supports:
- New unified retrieval_config dict
- Legacy knowledge_config + rag_config dicts
- RetrievalConfig instance passthrough

```python
def create_retrieval_config(knowledge_config) -> Optional
```

<Expandable title="Parameters">

- **knowledge_config** (`Optional[Dict]`)
- **rag_config** (`Optional[Dict]`)
- **retrieval_config** (`Optional[Dict]`)

</Expandable>
