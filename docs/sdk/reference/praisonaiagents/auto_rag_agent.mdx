---
title: "auto_rag_agent"
description: "AutoRagAgent - Agent with automatic RAG retrieval decision."
icon: "search"
---

# auto_rag_agent

<Badge color="blue">Core SDK</Badge>

## Overview

```mermaid
graph TD
    Agent["Agent"]:::agent
    classDef agent fill:#8B0000,stroke:#8B0000,color:#fff
```

AutoRagAgent - Agent with automatic RAG retrieval decision.

This module provides an agent wrapper that automatically decides when to
retrieve context from knowledge bases vs direct chat.

Usage:
    from praisonaiagents import Agent, AutoRagAgent
    
    agent = Agent(
        name="Research Assistant",
        knowledge=["docs/manual.pdf"],
    )
    
    auto_rag = AutoRagAgent(agent=agent)
    result = auto_rag.chat("What are the key findings?")  # Auto retrieves
    result = auto_rag.chat("Hello!")  # Skips retrieval

## Import

```python
from praisonaiagents import auto_rag_agent
```

## Classes

<AccordionGroup>
### RetrievalPolicy

*Extends: Enum*

Policy for when to perform RAG retrieval.

### AutoRagConfig

Configuration for AutoRagAgent.

<Expandable title="Properties">

<ResponseField name="retrieval_policy" type="RetrievalPolicy">
</ResponseField>
<ResponseField name="top_k" type="int">
</ResponseField>
<ResponseField name="hybrid" type="bool">
</ResponseField>
<ResponseField name="rerank" type="bool">
</ResponseField>
<ResponseField name="include_citations" type="bool">
</ResponseField>
<ResponseField name="citations_mode" type="str">
</ResponseField>
<ResponseField name="max_context_tokens" type="int">
</ResponseField>
<ResponseField name="auto_keywords" type="Set">
</ResponseField>
<ResponseField name="auto_min_length" type="int">
</ResponseField>

</Expandable>

<AccordionGroup>
<Accordion title="to_dict() -> Dict">
  Serialize to dictionary.
</Accordion>
</AccordionGroup>

### AutoRagAgent

Agent wrapper with automatic RAG retrieval decision.

Decides when to perform retrieval based on policy and heuristics,
then composes RAG context with Agent chat.

This follows the same pattern as AutoAgents but for RAG:
- AutoAgents: auto-generates agent configs from instructions
- AutoRagAgent: auto-decides when to retrieve context

Usage:
    from praisonaiagents import Agent, AutoRagAgent
    
    agent = Agent(
        name="Research Assistant",
        knowledge=["docs/manual.pdf"],
    )
    
    auto_rag = AutoRagAgent(agent=agent)
    
    # Auto mode - decides based on query
    result = auto_rag.chat("What are the key findings?")
    
    # Force retrieval
    result = auto_rag.chat("Hello", force_retrieval=True)
    
    # Skip retrieval
    result = auto_rag.chat("What is 2+2?", skip_retrieval=True)

<Expandable title="Constructor Parameters">

<ParamField query="agent" type="Agent">
   (Required)
</ParamField>
<ParamField query="rag" type="Optional">
   (default: `None`)
</ParamField>
<ParamField query="config" type="Optional">
   (default: `None`)
</ParamField>

</Expandable>

<AccordionGroup>
<Accordion title="rag() -> Optional">
  Lazy load RAG from agent if not provided.
</Accordion>
<Accordion title="name() -> str">
  Delegate name to wrapped agent.
</Accordion>
<Accordion title="chat(message: str) -> str">
  Chat with automatic RAG retrieval decision.

Decides whether to retrieve context, then runs agent chat.

Args:
    message: User message/query
    force_retrieval: Force retrieval regardless of policy
    skip_retrieval: Skip retrieval regardless of policy
    top_k: Override top_k for retrieval
    hybrid: Override hybrid retrieval setting
    rerank: Override rerank setting
    user_id: User ID for RAG retrieval (uses agent.user_id if not provided)
    **kwargs: Additional arguments passed to agent.chat()
    
Returns:
    Agent response (with citations if configured)
</Accordion>
<Accordion title="async achat(message: str) -> str">
  Async version of chat.

Currently wraps sync version. Can be extended for true async.
</Accordion>
</AccordionGroup>

</AccordionGroup>
