---
title: "Agents Module"
description: "API reference for agents"
icon: "users"
---

# agents



## Import

```python
from praisonaiagents import agents
```

## Classes

### TaskStatus

Enumeration for task status values to ensure consistency

### Agents



#### Constructor Parameters

| Parameter | Type | Description |
|-----------|------|-------------|
| `agents` | `Any` |  |
| `tasks` | `Any` |  |
| `process` | `Any` |  |
| `manager_llm` | `Any` |  |
| `name` | `Optional[str]` |  |
| `variables` | `Optional[Dict[str, Any]]` |  |
| `memory` | `Optional[Any]` |  |
| `planning` | `Optional[Any]` |  |
| `context` | `Optional[Any]` |  |
| `output` | `Optional[Any]` |  |
| `execution` | `Optional[Any]` |  |
| `hooks` | `Optional[Any]` |  |
| `autonomy` | `Optional[Any]` |  |
| `knowledge` | `Optional[Any]` |  |
| `guardrails` | `Optional[Any]` |  |
| `web` | `Optional[Any]` |  |
| `reflection` | `Optional[Any]` |  |
| `caching` | `Optional[Any]` |  |

#### Methods

- **add_task**(`task: Any`) → `Any`
- **clean_json_output**(`output: str`) → `str`
- **context_manager**(``) → `Any`
  ContextManager instance for unified context management across all agents.

Lazy initialized on first
- **default_completion_checker**(`task: Any, agent_output: Any`) → `Any`
- **save_output_to_file**(`task: Any, task_output: Any`) → `Any`
- **execute_task**(`task_id: Any`) → `Any`
  Synchronous version of execute_task method
- **run_task**(`task_id: Any`) → `Any`
  Synchronous version of run_task method
- **run_all_tasks**(``) → `Any`
  Synchronous version of run_all_tasks method
- **get_task_status**(`task_id: Any`) → `Any`
- **get_all_tasks_status**(``) → `Any`
- **get_task_result**(`task_id: Any`) → `Any`
- **get_task_details**(`task_id: Any`) → `Any`
- **get_agent_details**(`agent_name: Any`) → `Any`
- **start**(`content: Any, return_dict: Any, output: Any`) → `Any`
  Start agent execution with verbose output (beginner-friendly).

Shows Rich panels with workflow prog
- **run**(`content: Any, return_dict: Any`) → `Any`
  Run agents silently (production use).

Unlike .start() which shows verbose output, .run() executes s
- **set_state**(`key: str, value: Any`) → `None`
  Set a state value
- **get_state**(`key: str, default: Any`) → `Any`
  Get a state value
- **update_state**(`updates: Dict`) → `None`
  Update multiple state values
- **clear_state**(``) → `None`
  Clear all state values
- **has_state**(`key: str`) → `bool`
  Check if a state key exists
- **get_all_state**(``) → `Dict[str, Any]`
  Get a copy of the entire state dictionary
- **delete_state**(`key: str`) → `bool`
  Delete a state key if it exists. Returns True if deleted, False if key didn't exist.
- **increment_state**(`key: str, amount: float, default: float`) → `float`
  Increment a numeric state value. Creates the key with default if it doesn't exist.
- **append_to_state**(`key: str, value: Any, max_length: Optional[int]`) → `List[Any]`
  Append a value to a list state. Creates the list if it doesn't exist.

Args:
    key: State key
    
- **save_session_state**(`session_id: str, include_memory: bool`) → `None`
  Save current state to memory for session persistence
- **restore_session_state**(`session_id: str`) → `bool`
  Restore state from memory for session persistence. Returns True if restored.
- **get_token_usage_summary**(``) → `Dict[str, Any]`
  Get a summary of token usage across all agents and tasks.
- **get_detailed_token_report**(``) → `Dict[str, Any]`
  Get a detailed token usage report.
- **display_token_usage**(``) → `Any`
  Display token usage in a formatted table.
- **launch**(`path: str, port: int, host: str, debug: bool, protocol: str`) → `Any`
  Launch all agents as a single API endpoint (HTTP) or an MCP server. 
In HTTP mode, the endpoint acce
- **current_plan**(``) → `Any`
  Get the current plan.
- **todo_list**(``) → `Any`
  Get the current todo list.
- **get_plan_markdown**(``) → `str`
  Get the current plan as markdown.

Returns:
    Markdown string or empty string if no plan
- **get_todo_markdown**(``) → `str`
  Get the current todo list as markdown.

Returns:
    Markdown string or empty string if no todo list
- **update_plan_step_status**(`step_id: str, status: str`) → `bool`
  Update the status of a plan step.

Args:
    step_id: ID of the step to update
    status: New statu

## Functions

### encode_file_to_base64()

Base64-encode a file.

```python
def encode_file_to_base64(file_path: str) -> str
```

### process_video()

Split video into frames (base64-encoded).

```python
def process_video(video_path: str, seconds_per_frame: Any) -> Any
```

### get_multimodal_message()

Build multimodal message content for LLM with text and images.

DRY helper - replaces duplicate _get_multimodal_message in aexecute_task/execute_task.

Args:
    text_prompt: The text content of the message
    images: List of image paths (local or URL)
    
Returns:
    List of content items for multimodal LLM message

```python
def get_multimodal_message(text_prompt: str, images: list) -> list
```

### process_task_context()

Process a single context item for task execution.
This helper function avoids code duplication between async and sync execution methods.
Args:
    context_item: The context item to process (can be string, list, task object, or dict)
    verbose: Verbosity level for logging
    user_id: User ID for database queries
    
Returns:
    str: Formatted context string for this item

```python
def process_task_context(context_item: Any, verbose: Any, user_id: Any) -> Any
```
