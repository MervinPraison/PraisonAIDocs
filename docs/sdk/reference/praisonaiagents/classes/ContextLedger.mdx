---
title: "Context Ledger | AI Agent"
description: "ContextLedger: Tracks token usage across context segments."
icon: "brackets-curly"
---


> Defined in the [**models**](../modules/models) module.

<Badge color="blue">AI Agent</Badge>

Tracks token usage across context segments.

Provides per-segment token counts and total usage.

## Properties

<ResponseField name="system_prompt" type="int">
  No description available.
</ResponseField>

<ResponseField name="rules" type="int">
  No description available.
</ResponseField>

<ResponseField name="skills" type="int">
  No description available.
</ResponseField>

<ResponseField name="memory" type="int">
  No description available.
</ResponseField>

<ResponseField name="tools_schema" type="int">
  No description available.
</ResponseField>

<ResponseField name="history" type="int">
  No description available.
</ResponseField>

<ResponseField name="tool_outputs" type="int">
  No description available.
</ResponseField>

<ResponseField name="buffer" type="int">
  No description available.
</ResponseField>

<ResponseField name="turn_count" type="int">
  No description available.
</ResponseField>

<ResponseField name="message_count" type="int">
  No description available.
</ResponseField>

<ResponseField name="tool_call_count" type="int">
  No description available.
</ResponseField>

## Methods

<CardGroup cols={2}>
  <Card title="total()" icon="function" href="../functions/ContextLedger-total">
    Total tokens across all segments.
  </Card>
  <Card title="get_segment()" icon="function" href="../functions/ContextLedger-get_segment">
    Get token count for a segment.
  </Card>
  <Card title="set_segment()" icon="function" href="../functions/ContextLedger-set_segment">
    Set token count for a segment.
  </Card>
  <Card title="add_segment()" icon="function" href="../functions/ContextLedger-add_segment">
    Add tokens to a segment.
  </Card>
</CardGroup>

<Accordion title="Internal & Generic Methods">
- **to_dict**: Convert to dictionary.
- **copy**: Create a copy of this ledger.
</Accordion>
