---
title: "RetrievalConfig"
description: "Class reference for RetrievalConfig"
---

# RetrievalConfig

*Module: [retrieval_config](../modules/retrieval_config)*

Unified configuration for Agent retrieval behavior.

This is the SINGLE configuration surface that replaces:
- knowledge_config
- rag_config

Attributes:
    enabled: Whether retrieval is enabled (default: True if knowledge provided)
    policy: When to retrieve (auto, always, never)
    top_k: Number of chunks to retrieve
    min_score: Minimum relevance score threshold (0.0-1.0)
    max_context_tokens: Maximum tokens for retrieved context
    rerank: Whether to rerank results for better relevance
    hybrid: Whether to use hybrid retrieval (dense + keyword)
    citations: Whether to include source citations
    citations_mode: How to include citations (append, inline, hidden)
    
    # Vector store configuration
    vector_store_provider: Vector store provider (chroma, mongodb, etc.)
    vector_store_config: Provider-specific configuration
    collection_name: Collection/index name
    persist_path: Path for persistent storage
    
    # Embedding configuration
    embedder_provider: Embedding provider
    embedder_model: Embedding model name
    
    # Advanced options
    auto_keywords: Keywords that trigger retrieval in auto mode
    auto_min_length: Minimum query length for auto retrieval
    context_template: Template for formatting retrieved context
    system_separation: Whether to use system prompt separation for safety

## Properties

| Property | Type |
|----------|------|
| `enabled` | `bool` |
| `policy` | `RetrievalPolicy` |
| `top_k` | `int` |
| `min_score` | `float` |
| `max_context_tokens` | `int` |
| `rerank` | `bool` |
| `hybrid` | `bool` |
| `citations` | `bool` |
| `citations_mode` | `CitationsMode` |
| `model_context_window` | `Optional` |
| `reserved_response_tokens` | `int` |
| `dynamic_budget` | `bool` |
| `strategy` | `str` |
| `compress` | `bool` |
| `compression_ratio` | `float` |
| `include_glob` | `Optional` |
| `exclude_glob` | `Optional` |
| `path_filter` | `Optional` |
| `vector_store_provider` | `str` |
| `vector_store_config` | `Dict` |
| `collection_name` | `Optional` |
| `persist_path` | `str` |
| `embedder_provider` | `Optional` |
| `embedder_model` | `Optional` |
| `auto_keywords` | `frozenset` |
| `auto_min_length` | `int` |
| `context_template` | `str` |
| `system_separation` | `bool` |

## Methods

- [get_token_budget()](../functions/RetrievalConfig-get_token_budget)
- [get_strategy()](../functions/RetrievalConfig-get_strategy)
- [to_dict()](../functions/RetrievalConfig-to_dict)
- [to_knowledge_config()](../functions/RetrievalConfig-to_knowledge_config)
- [to_rag_config()](../functions/RetrievalConfig-to_rag_config)
- [should_retrieve()](../functions/RetrievalConfig-should_retrieve)
