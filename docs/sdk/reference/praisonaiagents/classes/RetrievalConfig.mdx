---
title: "Retrieval Config â€¢ AI Agent SDK"
sidebarTitle: "Retrieval Config"
description: "RetrievalConfig: Unified configuration for Agent retrieval behavior."
icon: "brackets-curly"
---

# RetrievalConfig

> Defined in the [**Retrieval Config**](../modules/retrieval_config) module.

<Badge color="blue">AI Agent</Badge>

Unified configuration for Agent retrieval behavior.

This is the SINGLE configuration surface that replaces:
- knowledge_config
- rag_config

Attributes:
    enabled: Whether retrieval is enabled (default: True if knowledge provided)
    policy: When to retrieve (auto, always, never)
    top_k: Number of chunks to retrieve
    min_score: Minimum relevance score threshold (0.0-1.0)
    max_context_tokens: Maximum tokens for retrieved context
    rerank: Whether to rerank results for better relevance
    hybrid: Whether to use hybrid retrieval (dense + keyword)
    citations: Whether to include source citations
    citations_mode: How to include citations (append, inline, hidden)
    
    # Vector store configuration
    vector_store_provider: Vector store provider (chroma, mongodb, etc.)
    vector_store_config: Provider-specific configuration
    collection_name: Collection/index name
    persist_path: Path for persistent storage
    
    # Embedding configuration
    embedder_provider: Embedding provider
    embedder_model: Embedding model name
    
    # Advanced options
    auto_keywords: Keywords that trigger retrieval in auto mode
    auto_min_length: Minimum query length for auto retrieval
    context_template: Template for formatting retrieved context
    system_separation: Whether to use system prompt separation for safety

## Properties

<ResponseField name="enabled" type="bool">
  No description available.
</ResponseField>

<ResponseField name="policy" type="RetrievalPolicy">
  No description available.
</ResponseField>

<ResponseField name="top_k" type="int">
  No description available.
</ResponseField>

<ResponseField name="min_score" type="float">
  No description available.
</ResponseField>

<ResponseField name="max_context_tokens" type="int">
  No description available.
</ResponseField>

<ResponseField name="rerank" type="bool">
  No description available.
</ResponseField>

<ResponseField name="hybrid" type="bool">
  No description available.
</ResponseField>

<ResponseField name="citations" type="bool">
  No description available.
</ResponseField>

<ResponseField name="citations_mode" type="CitationsMode">
  No description available.
</ResponseField>

<ResponseField name="model_context_window" type="Optional">
  No description available.
</ResponseField>

<ResponseField name="reserved_response_tokens" type="int">
  No description available.
</ResponseField>

<ResponseField name="dynamic_budget" type="bool">
  No description available.
</ResponseField>

<ResponseField name="strategy" type="str">
  No description available.
</ResponseField>

<ResponseField name="compress" type="bool">
  No description available.
</ResponseField>

<ResponseField name="compression_ratio" type="float">
  No description available.
</ResponseField>

<ResponseField name="include_glob" type="Optional">
  No description available.
</ResponseField>

<ResponseField name="exclude_glob" type="Optional">
  No description available.
</ResponseField>

<ResponseField name="path_filter" type="Optional">
  No description available.
</ResponseField>

<ResponseField name="vector_store_provider" type="str">
  No description available.
</ResponseField>

<ResponseField name="vector_store_config" type="Dict">
  No description available.
</ResponseField>

<ResponseField name="collection_name" type="Optional">
  No description available.
</ResponseField>

<ResponseField name="persist_path" type="str">
  No description available.
</ResponseField>

<ResponseField name="embedder_provider" type="Optional">
  No description available.
</ResponseField>

<ResponseField name="embedder_model" type="Optional">
  No description available.
</ResponseField>

<ResponseField name="auto_keywords" type="frozenset">
  No description available.
</ResponseField>

<ResponseField name="auto_min_length" type="int">
  No description available.
</ResponseField>

<ResponseField name="context_template" type="str">
  No description available.
</ResponseField>

<ResponseField name="system_separation" type="bool">
  No description available.
</ResponseField>

## Methods

<CardGroup cols={2}>
  <Card title="get_token_budget()" icon="function" href="../functions/RetrievalConfig-get_token_budget">
    Get TokenBudget instance for this config.
  </Card>
  <Card title="get_strategy()" icon="function" href="../functions/RetrievalConfig-get_strategy">
    Get retrieval strategy based on config and corpus stats.
  </Card>
  <Card title="to_knowledge_config()" icon="function" href="../functions/RetrievalConfig-to_knowledge_config">
    Convert to Knowledge-compatible config.
  </Card>
  <Card title="to_rag_config()" icon="function" href="../functions/RetrievalConfig-to_rag_config">
    Convert to RAG pipeline config.
  </Card>
  <Card title="should_retrieve()" icon="function" href="../functions/RetrievalConfig-should_retrieve">
    Determine if retrieval should be performed for a query.
  </Card>
</CardGroup>

<Accordion title="Internal & Generic Methods">
- **from_dict**: Create from dictionary.
- **to_dict**: Convert to dictionary.
</Accordion>
