---
title: "main"
description: "API reference for main"
icon: "house"
---

# main

<Badge color="blue">Core SDK</Badge>



## Import

```python
from praisonaiagents import main
```

## Classes

### ReflectionOutput

*Extends: BaseModel*

<Accordion title="Properties">

| Property | Type |
|----------|------|
| `reflection` | `str` |
| `satisfactory` | `Literal` |
</Accordion>

### TaskOutput

*Extends: BaseModel*

<Accordion title="Properties">

| Property | Type |
|----------|------|
| `description` | `str` |
| `summary` | `Optional` |
| `raw` | `str` |
| `pydantic` | `Optional` |
| `json_dict` | `Optional` |
| `agent` | `str` |
| `output_format` | `Literal` |
| `token_metrics` | `Optional` |
</Accordion>

<Accordion title="Methods">
- **json**(``) → `Optional`
- **to_dict**(``) → `dict`
</Accordion>

## Functions

### register_display_callback()

Register a synchronous or asynchronous callback function for a specific display type.

Args:
    display_type (str): Type of display event ('interaction', 'self_reflection', etc.)
    callback_fn: The callback function to register
    is_async (bool): Whether the callback is asynchronous

```python
def register_display_callback(display_type: str, callback_fn: Any, is_async: bool) -> Any
```

<Expandable title="Parameters">
- **display_type** (`str`)
- **callback_fn** (`Any`)
- **is_async** (`bool`)
</Expandable>

### register_approval_callback()

Register a global approval callback function for dangerous tool operations.

Args:
    callback_fn: Function that takes (function_name, arguments, risk_level) and returns ApprovalDecision

```python
def register_approval_callback(callback_fn: Any) -> Any
```

<Expandable title="Parameters">
- **callback_fn** (`Any`)
</Expandable>

### execute_sync_callback()

Execute synchronous callback for a given display type without displaying anything.

This function is used to trigger callbacks even when verbose=False.

Args:
    display_type (str): Type of display event
    **kwargs: Arguments to pass to the callback function

```python
def execute_sync_callback(display_type: str) -> Any
```

<Expandable title="Parameters">
- **display_type** (`str`)
</Expandable>

### execute_callback()

Execute both sync and async callbacks for a given display type.

Args:
    display_type (str): Type of display event
    **kwargs: Arguments to pass to the callback functions

```python
async def execute_callback(display_type: str) -> Any
```

<Expandable title="Parameters">
- **display_type** (`str`)
</Expandable>

### display_interaction()

Synchronous version of display_interaction.

Displays the task/message and response in clean panels with semantic colors
and optional metrics footer. Uses PraisonAI's unique color palette.

Args:
    metrics: Optional dict with token_in, token_out, cost, model for footer display

```python
def display_interaction(message: Any, response: Any, markdown: Any, generation_time: Any, console: Any, agent_name: Any, agent_role: Any, agent_tools: Any, task_name: Any, task_description: Any, task_id: Any, metrics: Any) -> Any
```

<Expandable title="Parameters">
- **message** (`Any`)
- **response** (`Any`)
- **markdown** (`Any`)
- **generation_time** (`Any`)
- **console** (`Any`)
- **agent_name** (`Any`)
- **agent_role** (`Any`)
- **agent_tools** (`Any`)
- **task_name** (`Any`)
- **task_description** (`Any`)
- **task_id** (`Any`)
- **metrics** (`Any`)
</Expandable>

### display_self_reflection()

```python
def display_self_reflection(message: str, console: Any) -> Any
```

<Expandable title="Parameters">
- **message** (`str`)
- **console** (`Any`)
</Expandable>

### display_instruction()

```python
def display_instruction(message: str, console: Any, agent_name: str, agent_role: str, agent_tools: List[str]) -> Any
```

<Expandable title="Parameters">
- **message** (`str`)
- **console** (`Any`)
- **agent_name** (`str`)
- **agent_role** (`str`)
- **agent_tools** (`List`)
</Expandable>

### display_tool_call()

Display tool call information in PraisonAI's unique timeline format.

Uses ▸ prefix, inline timing [X.Xs], and status icons ✓/✗ for a clean,
scannable tool activity display.

Args:
    message: The tool call message (legacy format)
    console: Rich console for output
    tool_name: Name of the tool being called
    tool_input: Input arguments to the tool
    tool_output: Output from the tool (if available)
    elapsed_time: Time taken for tool execution in seconds
    success: Whether the tool call succeeded

```python
def display_tool_call(message: str, console: Any, tool_name: str, tool_input: dict, tool_output: str, elapsed_time: float, success: bool) -> Any
```

<Expandable title="Parameters">
- **message** (`str`)
- **console** (`Any`)
- **tool_name** (`str`)
- **tool_input** (`dict`)
- **tool_output** (`str`)
- **elapsed_time** (`float`)
- **success** (`bool`)
</Expandable>

### display_error()

```python
def display_error(message: str, console: Any) -> Any
```

<Expandable title="Parameters">
- **message** (`str`)
- **console** (`Any`)
</Expandable>

### display_generating()

```python
def display_generating(content: str, start_time: Optional[float]) -> Any
```

<Expandable title="Parameters">
- **content** (`str`)
- **start_time** (`Optional`)
</Expandable>

### display_reasoning_steps()

Display reasoning steps with unique numbered circles.

Uses ①②③ numbered circles for a distinctive, scannable format
that shows the agent's thought process.

Args:
    steps: List of reasoning step descriptions
    console: Rich console for output

```python
def display_reasoning_steps(steps: List[str], console: Any) -> Any
```

<Expandable title="Parameters">
- **steps** (`List`)
- **console** (`Any`)
</Expandable>

### display_working_status()

Display animated working status with pulsing dots.

Shows a unique "Working ●○○" indicator with phase-specific status.
This is PraisonAI's distinctive approach to showing processing status.

Args:
    phase: Current animation phase (0-3)
    status_text: Optional status description
    console: Rich console for output

Returns:
    Panel object for use with Rich.Live

```python
def display_working_status(phase: int, status_text: str, console: Any) -> Any
```

<Expandable title="Parameters">
- **phase** (`int`)
- **status_text** (`str`)
- **console** (`Any`)
</Expandable>

### adisplay_interaction()

Async version of display_interaction.

```python
async def adisplay_interaction(message: Any, response: Any, markdown: Any, generation_time: Any, console: Any, agent_name: Any, agent_role: Any, agent_tools: Any, task_name: Any, task_description: Any, task_id: Any) -> Any
```

<Expandable title="Parameters">
- **message** (`Any`)
- **response** (`Any`)
- **markdown** (`Any`)
- **generation_time** (`Any`)
- **console** (`Any`)
- **agent_name** (`Any`)
- **agent_role** (`Any`)
- **agent_tools** (`Any`)
- **task_name** (`Any`)
- **task_description** (`Any`)
- **task_id** (`Any`)
</Expandable>

### adisplay_self_reflection()

Async version of display_self_reflection.

```python
async def adisplay_self_reflection(message: str, console: Any) -> Any
```

<Expandable title="Parameters">
- **message** (`str`)
- **console** (`Any`)
</Expandable>

### adisplay_instruction()

Async version of display_instruction.

```python
async def adisplay_instruction(message: str, console: Any, agent_name: str, agent_role: str, agent_tools: List[str]) -> Any
```

<Expandable title="Parameters">
- **message** (`str`)
- **console** (`Any`)
- **agent_name** (`str`)
- **agent_role** (`str`)
- **agent_tools** (`List`)
</Expandable>

### adisplay_tool_call()

Async version of display_tool_call.

```python
async def adisplay_tool_call(message: str, console: Any) -> Any
```

<Expandable title="Parameters">
- **message** (`str`)
- **console** (`Any`)
</Expandable>

### adisplay_error()

Async version of display_error.

```python
async def adisplay_error(message: str, console: Any) -> Any
```

<Expandable title="Parameters">
- **message** (`str`)
- **console** (`Any`)
</Expandable>

### adisplay_generating()

Async version of display_generating.

```python
async def adisplay_generating(content: str, start_time: Optional[float]) -> Any
```

<Expandable title="Parameters">
- **content** (`str`)
- **start_time** (`Optional`)
</Expandable>

### clean_triple_backticks()

Remove triple backticks and surrounding json fences from a string.

```python
def clean_triple_backticks(text: str) -> str
```

<Expandable title="Parameters">
- **text** (`str`)
</Expandable>

## Constants

| Name | Value |
|------|-------|
| `PRAISON_COLORS` | `{'agent': '#86A789', 'agent_text': '#D2E3C8', 'task': '#FF9B9B', 'task_text': '#FFE5E5', 'working': '#FFB347', 'working_text': '#FFF3E0', 'response': '#4A90D9', 'response_text': '#E3F2FD', 'tool': '#9...` |
| `WORKING_FRAMES` | `['●○○', '○●○', '○○●', '○●○']` |
| `WORKING_PHASES` | `['Analyzing query...', 'Processing context...', 'Generating response...', 'Finalizing output...']` |
