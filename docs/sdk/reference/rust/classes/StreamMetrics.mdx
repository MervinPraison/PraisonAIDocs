---
title: "Stream Metrics â€¢ Rust AI Agent SDK"
sidebarTitle: "Stream Metrics"
description: "StreamMetrics: Timing metrics for a streaming response."
icon: "brackets-curly"
---

# StreamMetrics

> Defined in the [**streaming**](../modules/streaming) module.

<Badge color="orange">Rust AI Agent SDK</Badge>

Timing metrics for a streaming response.

## Fields

| Name | Type | Description |
|------|------|-------------|
| `request_start` | `u64` | Request start time (ms) |
| `headers_received` | `u64` | Headers received time (ms) |
| `first_token` | `u64` | First token time (ms) |
| `last_token` | `u64` | Last token time (ms) |
| `stream_end` | `u64` | Stream end time (ms) |
| `token_count` | `usize` | Token count |
| `start_instant` | `Option&lt;Instant&gt;` | Internal start instant for precise timing |

## Methods

### `new`

```rust
fn new() -> Self
```

Create new metrics

### `ttft_ms`

```rust
fn ttft_ms(&self) -> u64
```

Time To First Token in milliseconds

### `stream_duration_ms`

```rust
fn stream_duration_ms(&self) -> u64
```

Stream duration in milliseconds

### `total_time_ms`

```rust
fn total_time_ms(&self) -> u64
```

Total time in milliseconds

### `tokens_per_second`

```rust
fn tokens_per_second(&self) -> f64
```

Tokens per second

### `update_from_event`

```rust
fn update_from_event(&mut self, event: &StreamEvent) -> ()
```

Update metrics from a stream event

**Parameters:**

| Name | Type |
|------|------|
| `event` | `&StreamEvent` |

### `mark_request_start`

```rust
fn mark_request_start(&mut self) -> ()
```

Mark request start

### `mark_first_token`

```rust
fn mark_first_token(&mut self) -> ()
```

Mark first token

### `mark_last_token`

```rust
fn mark_last_token(&mut self) -> ()
```

Mark last token

### `mark_stream_end`

```rust
fn mark_stream_end(&mut self) -> ()
```

Mark stream end

### `increment_tokens`

```rust
fn increment_tokens(&mut self) -> ()
```

Increment token count

