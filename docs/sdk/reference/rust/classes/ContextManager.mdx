---
title: "Context Manager â€¢ Rust AI Agent SDK"
sidebarTitle: "Context Manager"
description: "ContextManager: High-level context manager facade."
icon: "brackets-curly"
---

# ContextManager

> Defined in the [**context**](../modules/context) module.

<Badge color="orange">Rust AI Agent SDK</Badge>

High-level context manager facade.

## Fields

| Name | Type | Description |
|------|------|-------------|
| `config` | `ContextConfig` | Configuration |
| `budgeter` | `ContextBudgeter` | Budgeter |
| `ledger` | `ContextLedger` | Current ledger |

## Methods

### `new`

```rust
fn new(config: ContextConfig) -> Self
```

Create a new context manager

**Parameters:**

| Name | Type |
|------|------|
| `config` | `ContextConfig` |

### `default_for_model`

```rust
fn default_for_model(model: impl Into<String>) -> Self
```

Create with default config

**Parameters:**

| Name | Type |
|------|------|
| `model` | `impl Into&lt;String&gt;` |

### `allocate_budget`

```rust
fn allocate_budget(&self) -> BudgetAllocation
```

Get budget allocation

### `add_segment`

```rust
fn add_segment(&mut self, segment: ContextSegment) -> ()
```

Add a segment to the ledger

**Parameters:**

| Name | Type |
|------|------|
| `segment` | `ContextSegment` |

### `remaining`

```rust
fn remaining(&self) -> usize
```

Get remaining tokens

### `is_over_budget`

```rust
fn is_over_budget(&self) -> bool
```

Check if over budget

### `utilization`

```rust
fn utilization(&self) -> f64
```

Get utilization

### `reset`

```rust
fn reset(&mut self) -> ()
```

Reset the ledger

### `track_system`

```rust
fn track_system(&mut self, system_prompt: &str) -> ()
```

Estimate and track system prompt

**Parameters:**

| Name | Type |
|------|------|
| `system_prompt` | `&str` |

### `track_messages`

```rust
fn track_messages(&mut self, messages: &[serde_json::Value]) -> ()
```

Estimate and track messages

**Parameters:**

| Name | Type |
|------|------|
| `messages` | `&[serde_json::Value]` |

### `track_tools`

```rust
fn track_tools(&mut self, tools: &[serde_json::Value]) -> ()
```

Estimate and track tools

**Parameters:**

| Name | Type |
|------|------|
| `tools` | `&[serde_json::Value]` |


## Source

<Card title="View on GitHub" icon="github" href="https://github.com/MervinPraison/PraisonAI/blob/main/src/praisonai-rust/praisonai/src/context/mod.rs#L417">
  `praisonai/src/context/mod.rs` at line 417
</Card>



---

## Related Documentation

<CardGroup cols={2}>
  <Card title="Rust Context Management" icon="layer-group" href="/docs/rust/context-management" />
  <Card title="Rust Token Management" icon="coins" href="/docs/rust/token-management" />
</CardGroup>
