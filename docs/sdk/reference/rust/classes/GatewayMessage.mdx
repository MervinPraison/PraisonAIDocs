---
title: "Gateway Message â€¢ Rust AI Agent SDK"
sidebarTitle: "Gateway Message"
description: "GatewayMessage: A message sent through the gateway."
icon: "brackets-curly"
---

# GatewayMessage

> Defined in the [**gateway**](../modules/gateway) module.

<Badge color="orange">Rust AI Agent SDK</Badge>

A message sent through the gateway.

## Fields

| Name | Type | Description |
|------|------|-------------|
| `content` | `serde_json::Value` | Message content (text or structured data) |
| `sender_id` | `String` | Sender identifier |
| `session_id` | `String` | Session this message belongs to |
| `message_id` | `String` | Unique message identifier |
| `timestamp` | `f64` | Message creation time (Unix timestamp) |
| `metadata` | `HashMap&lt;String` | Additional message metadata |
| `serde_json` | `:Value&gt;` | Additional message metadata |
| `reply_to` | `Option&lt;String&gt;` | ID of message being replied to (optional) |

## Methods

### `new`

```rust
fn new(
        content: impl Into<serde_json::Value>,
        sender_id: impl Into<String>,
        session_id: impl Into<String>,
    ) -> Self
```

Create a new gateway message.

**Parameters:**

| Name | Type |
|------|------|
| `content` | `impl Into&lt;serde_json::Value&gt;` |
| `sender_id` | `impl Into&lt;String&gt;` |
| `session_id` | `impl Into&lt;String&gt;` |

### `text`

```rust
fn text(
        text: impl Into<String>,
        sender_id: impl Into<String>,
        session_id: impl Into<String>,
    ) -> Self
```

Create a text message.

**Parameters:**

| Name | Type |
|------|------|
| `text` | `impl Into&lt;String&gt;` |
| `sender_id` | `impl Into&lt;String&gt;` |
| `session_id` | `impl Into&lt;String&gt;` |

### `reply_to`

```rust
fn reply_to(mut self, message_id: impl Into<String>) -> Self
```

Set reply_to message ID.

**Parameters:**

| Name | Type |
|------|------|
| `message_id` | `impl Into&lt;String&gt;` |

### `metadata`

```rust
fn metadata(mut self, key: impl Into<String>, value: serde_json::Value) -> Self
```

Add metadata.

**Parameters:**

| Name | Type |
|------|------|
| `key` | `impl Into&lt;String&gt;` |
| `value` | `serde_json::Value` |

### `text_content`

```rust
fn text_content(&self) -> Option<&str>
```

Get text content if available.

### `to_dict`

```rust
fn to_dict(&self) -> HashMap<String, serde_json::Value>
```

Convert to dictionary for serialization.

### `from_dict`

```rust
fn from_dict(data: &HashMap<String, serde_json::Value>) -> Self
```

Create from dictionary.

**Parameters:**

| Name | Type |
|------|------|
| `data` | `&HashMap&lt;String` |
| `serde_json` | `:Value&gt;` |

