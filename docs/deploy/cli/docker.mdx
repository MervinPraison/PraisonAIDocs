---
title: "Deploy CLI: Docker"
sidebarTitle: "Docker"
description: "Deploy agents to Docker containers using praisonai deploy"
icon: "docker"
---

Build and deploy agents as Docker containers using `praisonai deploy run --type docker`.

## CLI

```bash
pip install praisonai
export OPENAI_API_KEY="your-key"

# Initialize with Docker deploy config
praisonai deploy init --file agents.yaml --type docker

# Deploy to Docker
praisonai deploy run --file agents.yaml --type docker
```

**Expected Output:**
```
üöÄ Starting deployment...

üì¶ Building Docker image: praisonai-app:latest
  ‚Ä¢ Base image: python:3.11-slim
  ‚Ä¢ Exposing ports: [8005]

‚úÖ Deployment successful!
üîó URL: http://localhost:8005

Metadata:
  ‚Ä¢ type: docker
  ‚Ä¢ image: praisonai-app:latest
  ‚Ä¢ container_id: abc123def456
```

**Verify:**
```bash
docker ps | grep praisonai
curl http://localhost:8005/health
```

## Python

```python
from praisonai.deploy import Deploy, DeployConfig, DeployType
from praisonai.deploy.models import DockerConfig

config = DeployConfig(
    type=DeployType.DOCKER,
    docker=DockerConfig(
        image_name="praisonai-app",
        tag="latest",
        base_image="python:3.11-slim",
        expose=[8005],
        push=False
    )
)

deploy = Deploy(config, "agents.yaml")
result = deploy.deploy()

print(f"Image: {result.metadata.get('image')}")
print(f"Container: {result.metadata.get('container_id')}")
```

## agents.yaml

```yaml
framework: praisonai
topic: helpful assistant
roles:
  assistant:
    role: Assistant
    goal: Help users with their questions
    backstory: You are a helpful assistant
    tasks:
      help_task:
        description: Answer user questions
        expected_output: Helpful response

deploy:
  type: docker
  docker:
    image_name: "praisonai-app"
    tag: "latest"
    base_image: "python:3.11-slim"
    expose: [8005]
    push: false
    registry: null
```

## Docker Config Options

| Field | Type | Default | Description |
|-------|------|---------|-------------|
| `image_name` | string | `praisonai-app` | Docker image name |
| `tag` | string | `latest` | Docker image tag |
| `base_image` | string | `python:3.11-slim` | Base Docker image |
| `expose` | list[int] | `[8005]` | Ports to expose |
| `registry` | string | `null` | Docker registry URL |
| `push` | bool | `false` | Push image to registry |
| `build_args` | dict | `null` | Docker build arguments |

## Push to Registry

Push the built image to a Docker registry:

```yaml
deploy:
  type: docker
  docker:
    image_name: "praisonai-app"
    tag: "v1.0.0"
    registry: "your-registry.com/your-org"
    push: true
```

```bash
praisonai deploy run --file agents.yaml --type docker
```

**Expected Output:**
```
üöÄ Starting deployment...

üì¶ Building Docker image: your-registry.com/your-org/praisonai-app:v1.0.0
üì§ Pushing to registry: your-registry.com/your-org

‚úÖ Deployment successful!

Metadata:
  ‚Ä¢ image: your-registry.com/your-org/praisonai-app:v1.0.0
  ‚Ä¢ pushed: true
```

## Check Status

```bash
praisonai deploy status --file agents.yaml
```

## Stop Container

```bash
praisonai deploy destroy --file agents.yaml
```

**Expected Output:**
```
‚ö†Ô∏è  Warning: This will destroy the deployment!
File: agents.yaml
Service: praisonai-app

Type 'yes' to confirm destruction: yes

üóëÔ∏è Destroying deployment...

‚úÖ Deployment destroyed successfully

Deleted resources:
  ‚Ä¢ container: praisonai-app-abc123
  ‚Ä¢ image: praisonai-app:latest (local)
```

## Troubleshooting

| Issue | Fix |
|-------|-----|
| Docker not running | Start Docker daemon |
| Build failed | Check Dockerfile syntax, run `praisonai deploy doctor` |
| Push failed | Check registry credentials |
| Port in use | Change port in agents.yaml |

<Accordion title="Manual Docker Commands (Optional)">

These commands are for manual validation only. Use `praisonai deploy` for deployment.

```bash
# Build manually
docker build -t praisonai-app:latest .

# Run manually
docker run -p 8005:8005 -e OPENAI_API_KEY=$OPENAI_API_KEY praisonai-app:latest

# Check logs
docker logs <container_id>

# Stop
docker stop <container_id>
```

</Accordion>

## Related

- [Deploy CLI Overview](./index) - All deploy commands
- [API Deploy](./api) - Deploy as local API server
- [AWS Deploy](./aws) - Deploy to AWS
