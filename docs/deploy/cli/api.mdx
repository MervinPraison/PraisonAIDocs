---
title: "Deploy CLI: API Server"
sidebarTitle: "API"
description: "Deploy agents as a local API server using praisonai deploy"
icon: "server"
---

Deploy agents as a local FastAPI server using `praisonai deploy run --type api`.

## CLI

```bash
pip install praisonai
export OPENAI_API_KEY="your-key"

# Initialize with API deploy config
praisonai deploy init --file agents.yaml --type api

# Deploy as API server
praisonai deploy run --file agents.yaml --type api
```

**Expected Output:**
```
ðŸš€ Starting deployment...

âœ… Deployment successful!
ðŸ”— URL: http://127.0.0.1:8005

Metadata:
  â€¢ type: api
  â€¢ host: 127.0.0.1
  â€¢ port: 8005
  â€¢ workers: 1
```

**Verify:**
```bash
curl http://127.0.0.1:8005/health
```

## Python

```python
from praisonai.deploy import Deploy, DeployConfig, DeployType
from praisonai.deploy.models import APIConfig

config = DeployConfig(
    type=DeployType.API,
    api=APIConfig(
        host="127.0.0.1",
        port=8005,
        workers=1
    )
)

deploy = Deploy(config, "agents.yaml")
result = deploy.deploy()

print(f"URL: {result.url}")
```

## agents.yaml

```yaml
framework: praisonai
topic: helpful assistant
roles:
  assistant:
    role: Assistant
    goal: Help users with their questions
    backstory: You are a helpful assistant
    tasks:
      help_task:
        description: Answer user questions
        expected_output: Helpful response

deploy:
  type: api
  api:
    host: "127.0.0.1"
    port: 8005
    workers: 1
    cors_enabled: true
    auth_enabled: false
    reload: false
```

## API Config Options

| Field | Type | Default | Description |
|-------|------|---------|-------------|
| `host` | string | `127.0.0.1` | Server host |
| `port` | int | `8005` | Server port |
| `workers` | int | `1` | Number of worker processes |
| `cors_enabled` | bool | `true` | Enable CORS |
| `auth_enabled` | bool | `false` | Enable authentication |
| `auth_token` | string | `null` | Authentication token |
| `reload` | bool | `false` | Enable auto-reload (dev) |

## CLI Flags

| Flag | Type | Default | Description |
|------|------|---------|-------------|
| `--file`, `-f` | string | `agents.yaml` | Path to agents.yaml |
| `--type` | choice | - | Must be `api` |
| `--background` | flag | false | Run in background |
| `--json` | flag | false | Output as JSON |

## Background Mode

Run the API server in background:

```bash
praisonai deploy run --file agents.yaml --type api --background
```

## Check Status

```bash
praisonai deploy status --file agents.yaml
```

**Expected Output:**
```
ðŸ“Š Checking deployment status...

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                            Deployment Status                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Property        â”‚ Value                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ State           â”‚ RUNNING                                                   â”‚
â”‚ Service Name    â”‚ praisonai-api                                             â”‚
â”‚ Provider        â”‚ api                                                       â”‚
â”‚ URL             â”‚ http://127.0.0.1:8005                                     â”‚
â”‚ Healthy         â”‚ âœ… Yes                                                    â”‚
â”‚ Instances       â”‚ 1/1                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

## Stop Server

```bash
praisonai deploy destroy --file agents.yaml
```

## Troubleshooting

| Issue | Fix |
|-------|-----|
| Port in use | Change port in agents.yaml or use `--port` |
| No agents.yaml | Run `praisonai deploy init --type api` |
| Missing API key | `export OPENAI_API_KEY="your-key"` |
| Server not starting | Run `praisonai deploy doctor` |

## Related

- [Deploy CLI Overview](./index) - All deploy commands
- [Docker Deploy](./docker) - Deploy to Docker
- [Agents API](../api/agents-api) - API endpoint reference
