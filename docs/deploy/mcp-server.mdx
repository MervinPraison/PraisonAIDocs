---
title: "Deploy as a Server: MCP"
sidebarTitle: "MCP Server"
description: "Deploy agents as Model Context Protocol (MCP) servers"
icon: "plug"
---

Deploy agents as MCP servers for Claude Desktop, Cursor, and other MCP clients.

## CLI

```bash
pip install "praisonaiagents[mcp]"
export OPENAI_API_KEY="your-key"
```

## Python - Single Agent

```python
from praisonaiagents import Agent

agent = Agent(
    name="TweetAgent",
    instructions="Create engaging tweets",
    llm="gpt-4o-mini"
)
agent.launch(port=8080, protocol="mcp")
```

**Expected Output:**
```
üöÄ Agent 'TweetAgent' MCP server starting on http://0.0.0.0:8080
üì° MCP SSE endpoint available at /sse
üì¢ MCP messages post to /messages/
üõ†Ô∏è Available MCP tools: execute_tweetagent_task
```

**Verify:**
```bash
curl http://localhost:8080/sse
```

## Python - Multi-Agent

```python
from praisonaiagents import Agent, Agents

researcher = Agent(name="Researcher", instructions="Research topics", llm="gpt-4o-mini")
writer = Agent(name="Writer", instructions="Write content", llm="gpt-4o-mini")

agents = Agents(agents=[researcher, writer])
agents.launch(port=8080, protocol="mcp")
```

**Expected Output:**
```
üöÄ PraisonAIAgents MCP Workflow server starting on http://0.0.0.0:8080
üì° MCP SSE endpoint available at /sse
üì¢ MCP messages post to /messages/
üõ†Ô∏è Available MCP tools: execute_workflow
üîÑ Agents in MCP workflow: Researcher, Writer
```

## agents.yaml

MCP server mode is Python-only. Use the CLI to start an HTTP server, then connect via MCP client.

## MCP Endpoints

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/sse` | GET | SSE connection for MCP |
| `/messages/` | POST | Send MCP messages |

## Connect MCP Client

**Claude Desktop** (`claude_desktop_config.json`):
```json
{
  "mcpServers": {
    "praisonai": {
      "url": "http://localhost:8080/sse"
    }
  }
}
```

**Cursor** (`.cursor/mcp.json`):
```json
{
  "mcpServers": {
    "praisonai": {
      "url": "http://localhost:8080/sse"
    }
  }
}
```

## launch() Parameters

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `port` | int | `8000` | Server port |
| `host` | str | `0.0.0.0` | Server host |
| `protocol` | str | `mcp` | Must be `mcp` |
| `debug` | bool | `False` | Debug mode |

## Docker

**app.py:**
```python
from praisonaiagents import Agent

agent = Agent(instructions="Create tweets", llm="gpt-4o-mini")
agent.launch(port=8080, protocol="mcp")
```

**Dockerfile:**
```dockerfile
FROM python:3.11-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
COPY app.py .
EXPOSE 8080
CMD ["python", "app.py"]
```

**requirements.txt:**
```
praisonaiagents[mcp]
```

**Build and run:**
```bash
docker build -t mcp-server .
docker run -p 8080:8080 -e OPENAI_API_KEY=$OPENAI_API_KEY mcp-server
```

## Troubleshooting

| Issue | Fix |
|-------|-----|
| Port in use | `lsof -i :8080` |
| Missing deps | `pip install "praisonaiagents[mcp]"` |
| No API key | `export OPENAI_API_KEY="your-key"` |
| SSE not connecting | Check firewall, use `host="0.0.0.0"` |

## Related

- [MCP API Reference](./api/mcp-api) - Full MCP endpoint documentation
- [Tools Server](./tools-server) - Expose tools as MCP server
- [Agents Server](./agents-server) - Deploy as HTTP server
