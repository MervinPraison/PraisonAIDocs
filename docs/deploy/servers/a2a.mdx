---
title: "Server: A2A"
sidebarTitle: "A2A"
description: "Deploy agents as A2A (Agent-to-Agent) protocol servers"
icon: "robot"
---

Deploy agents as A2A servers for agent-to-agent communication.

## CLI

```bash
pip install "praisonaiagents[api]"
export OPENAI_API_KEY="your-key"
```

A2A server is Python-only. No CLI command available.

## Python

```python
from praisonaiagents import Agent
from praisonaiagents.ui.a2a import A2A
from fastapi import FastAPI
import uvicorn

agent = Agent(
    name="Assistant",
    role="Helpful AI Assistant",
    goal="Help users with their questions",
    llm="gpt-4o-mini"
)

a2a = A2A(
    agent=agent,
    url="http://localhost:8000/a2a"
)

app = FastAPI()
app.include_router(a2a.get_router())

uvicorn.run(app, host="0.0.0.0", port=8000)
```

**Expected Output:**
```
INFO:     Started server process
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000
```

**Verify:**
```bash
curl http://localhost:8000/.well-known/agent.json
```

**Response:**
```json
{
  "name": "Assistant",
  "description": "Helpful AI Assistant",
  "url": "http://localhost:8000/a2a",
  "version": "1.0.0",
  "capabilities": {
    "streaming": true,
    "pushNotifications": false,
    "stateTransitionHistory": false
  }
}
```

## agents.yaml

A2A server is Python-only. No agents.yaml support.

## A2A Endpoints

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/.well-known/agent.json` | GET | Agent Card for discovery |
| `/a2a` | POST | JSON-RPC messages |
| `/status` | GET | Server status |

## A2A Parameters

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `agent` | Agent | - | PraisonAI Agent instance |
| `agents` | Agents | - | Multi-agent workflow |
| `name` | str | agent.name | A2A endpoint name |
| `description` | str | agent.role | Agent description |
| `url` | str | `http://localhost:8000/a2a` | A2A endpoint URL |
| `version` | str | `1.0.0` | Version string |
| `prefix` | str | `""` | URL prefix |

## Send A2A Message

```bash
curl -X POST http://localhost:8000/a2a \
  -H "Content-Type: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "method": "message/send",
    "id": "1",
    "params": {
      "message": {
        "role": "user",
        "parts": [{"type": "text", "text": "Hello!"}]
      }
    }
  }'
```

**Response:**
```json
{
  "jsonrpc": "2.0",
  "id": "1",
  "result": {
    "message": {
      "role": "agent",
      "parts": [{"type": "text", "text": "Hello! How can I help you?"}]
    }
  }
}
```

## Python Client

```python
import requests

# Get Agent Card
response = requests.get("http://localhost:8000/.well-known/agent.json")
agent_card = response.json()
print(f"Agent: {agent_card['name']}")

# Send Message
message = {
    "jsonrpc": "2.0",
    "method": "message/send",
    "id": "1",
    "params": {
        "message": {
            "role": "user",
            "parts": [{"type": "text", "text": "Hello!"}]
        }
    }
}
response = requests.post("http://localhost:8000/a2a", json=message)
print(response.json())
```

## Troubleshooting

| Issue | Fix |
|-------|-----|
| Port in use | `lsof -i :8000` |
| Missing deps | `pip install "praisonaiagents[api]"` |
| No API key | `export OPENAI_API_KEY="your-key"` |
| Agent Card 404 | Check router is included in app |

## Related

- [A2A API Reference](../api/a2a-api) - Full A2A endpoint documentation
- [AGUI Server](./agui) - Deploy as AGUI server
- [Agents Server](./agents) - Deploy as HTTP server
