---
title: "AWS Deploy"
sidebarTitle: "AWS"
description: "Deploy PraisonAI agents to AWS"
icon: "aws"
---

Deploy agents to AWS using ECS/Fargate or EC2.

## Prerequisites

```bash
pip install "praisonaiagents[api]"
aws configure
docker --version
```

## Verify AWS CLI

```bash
aws sts get-caller-identity
```

**Expected Output:**
```json
{
    "UserId": "AIDAXXXXXXXXXX",
    "Account": "123456789012",
    "Arn": "arn:aws:iam::123456789012:user/username"
}
```

## ECS/Fargate Deployment

### 1. Create Application

**app.py:**
```python
from praisonaiagents import Agent

agent = Agent(instructions="You are a helpful assistant.", llm="gpt-4o-mini")
agent.launch(path="/ask", port=8080, host="0.0.0.0")
```

**requirements.txt:**
```
praisonaiagents[api]
```

**Dockerfile:**
```dockerfile
FROM python:3.11-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
COPY . .
EXPOSE 8080
CMD ["python", "app.py"]
```

### 2. Push to ECR

```bash
# Create repository
aws ecr create-repository --repository-name praisonai-agent

# Login to ECR
aws ecr get-login-password --region us-east-1 | \
  docker login --username AWS --password-stdin ACCOUNT_ID.dkr.ecr.us-east-1.amazonaws.com

# Build and push
docker build -t praisonai-agent .
docker tag praisonai-agent:latest ACCOUNT_ID.dkr.ecr.us-east-1.amazonaws.com/praisonai-agent:latest
docker push ACCOUNT_ID.dkr.ecr.us-east-1.amazonaws.com/praisonai-agent:latest
```

### 3. Create ECS Cluster

```bash
aws ecs create-cluster --cluster-name praisonai-cluster
```

### 4. Task Definition

**task-definition.json:**
```json
{
  "family": "praisonai-agent",
  "networkMode": "awsvpc",
  "executionRoleArn": "arn:aws:iam::ACCOUNT_ID:role/ecsTaskExecutionRole",
  "containerDefinitions": [{
    "name": "praisonai-agent",
    "image": "ACCOUNT_ID.dkr.ecr.us-east-1.amazonaws.com/praisonai-agent:latest",
    "essential": true,
    "portMappings": [{"containerPort": 8080, "protocol": "tcp"}],
    "environment": [{"name": "OPENAI_API_KEY", "value": "your-key"}],
    "logConfiguration": {
      "logDriver": "awslogs",
      "options": {
        "awslogs-group": "/ecs/praisonai-agent",
        "awslogs-region": "us-east-1",
        "awslogs-stream-prefix": "ecs"
      }
    }
  }],
  "requiresCompatibilities": ["FARGATE"],
  "cpu": "256",
  "memory": "512"
}
```

```bash
aws ecs register-task-definition --cli-input-json file://task-definition.json
```

### 5. Create Service

```bash
aws ecs create-service \
  --cluster praisonai-cluster \
  --service-name praisonai-service \
  --task-definition praisonai-agent:1 \
  --desired-count 1 \
  --launch-type FARGATE \
  --network-configuration "awsvpcConfiguration={subnets=[subnet-xxx],securityGroups=[sg-xxx],assignPublicIp=ENABLED}"
```

## EC2 Deployment

For VM-based deployment:

```bash
# On EC2 instance (Ubuntu)
sudo apt update && sudo apt install -y python3 python3-pip
pip3 install "praisonaiagents[api]"
export OPENAI_API_KEY="your-key"
python3 app.py
```

## Verify Deployment

```bash
# List ECS services
aws ecs list-services --cluster praisonai-cluster

# Describe service
aws ecs describe-services --cluster praisonai-cluster --services praisonai-service
```

## Secrets Management

```bash
# Store API key in Secrets Manager
aws secretsmanager create-secret \
  --name OPENAI_API_KEY \
  --secret-string "your-key"
```

## Troubleshooting

| Issue | Check |
|-------|-------|
| ECR push failed | `aws ecr get-login-password` |
| Task not starting | Check CloudWatch logs |
| No public IP | Verify `assignPublicIp=ENABLED` |
| Auth error | `aws sts get-caller-identity` |