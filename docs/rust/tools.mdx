---
title: "Tools"
sidebarTitle: "Tools"
description: "Create and use tools for function calling in the PraisonAI Rust SDK"
icon: "wrench"
---

# Tools

Tools enable agents to perform actions beyond text generation. The Rust SDK provides a powerful tool system with a `#[tool]` macro for easy tool creation.

## Quick Start

```rust
use praisonai::{Agent, tool};

#[tool(description = "Search the web for information")]
async fn search(query: String) -> String {
    format!("Results for: {}", query)
}

#[tokio::main]
async fn main() -> Result<(), Box<dyn std::error::Error>> {
    let agent = Agent::new("assistant")
        .instructions("You are a helpful assistant")
        .tool(SearchTool::new())  // #[tool] generates SearchTool struct
        .build()?;
    
    let response = agent.run("Search for Rust tutorials").await?;
    Ok(())
}
```

## The `#[tool]` Macro

Transform any async function into a tool:

```rust
use praisonai::tool;

/// Get the current weather for a city
#[tool(description = "Get current weather for a location")]
async fn get_weather(city: String, units: String) -> String {
    // Call weather API...
    format!("Weather in {}: 72Â°F", city)
}

// Custom name
#[tool(name = "web_search", description = "Search the internet")]
async fn my_search_function(query: String, max_results: u32) -> Vec<String> {
    vec![format!("Result for: {}", query)]
}
```

### Generated Code

The `#[tool]` macro generates:

1. **Struct**: `GetWeatherTool` (PascalCase from function name)
2. **`impl Tool`**: Implements the `Tool` trait
3. **JSON Schema**: Auto-generates parameter schema from Rust types

### Type Mappings

| Rust Type | JSON Schema Type |
|-----------|------------------|
| `String`, `&str` | `"string"` |
| `i32`, `u64`, etc. | `"integer"` |
| `f32`, `f64` | `"number"` |
| `bool` | `"boolean"` |
| `Vec<T>` | `"array"` |
| Structs | `"object"` |

## Tool Trait

For custom tool implementations:

```rust
use praisonai::{Tool, Result};
use async_trait::async_trait;
use serde_json::Value;

struct CalculatorTool;

#[async_trait]
impl Tool for CalculatorTool {
    fn name(&self) -> &str {
        "calculator"
    }

    fn description(&self) -> &str {
        "Perform mathematical calculations"
    }

    fn parameters_schema(&self) -> Value {
        serde_json::json!({
            "type": "object",
            "properties": {
                "expression": { "type": "string" }
            },
            "required": ["expression"]
        })
    }

    async fn execute(&self, args: Value) -> Result<Value> {
        let expr = args["expression"].as_str().unwrap_or("");
        // Evaluate expression...
        Ok(serde_json::json!({ "result": 42 }))
    }
}
```

## ToolRegistry

Manage multiple tools:

```rust
use praisonai::tools::ToolRegistry;

let mut registry = ToolRegistry::new();

// Register tools
registry.register(SearchTool::new());
registry.register(CalculatorTool);
registry.register(WeatherTool::new());

// List tools
println!("Tools: {:?}", registry.list());  // ["search", "calculator", "weather"]

// Get definitions for LLM
let definitions = registry.definitions();

// Execute by name
let result = registry.execute("search", serde_json::json!({
    "query": "Rust programming"
})).await?;

if result.success {
    println!("Result: {}", result.value);
} else {
    println!("Error: {:?}", result.error);
}
```

## ToolResult

Handle tool execution results:

```rust
use praisonai::tools::ToolResult;
use serde_json::json;

// Success result
let success = ToolResult::success("search", json!({
    "results": ["Result 1", "Result 2"]
}));
assert!(success.success);

// Failure result  
let failure = ToolResult::failure("search", "API rate limited");
assert!(!failure.success);
assert_eq!(failure.error, Some("API rate limited".to_string()));
```

## FunctionTool

Create tools from closures:

```rust
use praisonai::tools::FunctionTool;
use serde_json::{json, Value};

let echo_tool = FunctionTool::new(
    "echo",
    "Echo back the input",
    json!({
        "type": "object",
        "properties": {
            "message": { "type": "string" }
        },
        "required": ["message"]
    }),
    |args: Value| async move {
        let msg = args["message"].as_str().unwrap_or("empty");
        Ok(json!({ "echo": msg }))
    }
);

registry.register(echo_tool);
```

## Using Tools with Agents

```rust
use praisonai::Agent;

// Add single tool
let agent = Agent::new("assistant")
    .tool(SearchTool::new())
    .build()?;

// Add multiple tools
let agent = Agent::new("assistant")
    .tool(SearchTool::new())
    .tool(CalculatorTool)
    .tool(WeatherTool::new())
    .build()?;

// The agent will automatically call tools when needed
let response = agent.run("What's 25 * 4 and search for Rust tutorials").await?;
```

## Tool Definitions

Get tool definitions for manual LLM configuration:

```rust
use praisonai::tools::ToolDefinition;

// From a tool
let search = SearchTool::new();
let def: ToolDefinition = search.definition();

println!("Name: {}", def.name);           // "search"
println!("Description: {}", def.description);
println!("Parameters: {}", def.parameters); // JSON Schema
```

## Example: Complete Tool

```rust
use praisonai::{Agent, tool, Result};

/// Fetch the latest news headlines
#[tool(description = "Get latest news headlines for a topic")]
async fn get_news(topic: String, count: u32) -> Vec<String> {
    // In production, call a news API
    (0..count)
        .map(|i| format!("Headline {} about {}", i + 1, topic))
        .collect()
}

/// Calculate compound interest
#[tool(description = "Calculate compound interest")]  
async fn compound_interest(
    principal: f64,
    rate: f64,
    years: u32
) -> f64 {
    principal * (1.0 + rate).powi(years as i32)
}

#[tokio::main]
async fn main() -> Result<()> {
    let agent = Agent::new("financial_assistant")
        .instructions("Help with financial calculations and news")
        .tool(GetNewsTool::new())
        .tool(CompoundInterestTool::new())
        .build()?;
    
    agent.run("What's the compound interest on $1000 at 5% for 10 years?").await?;
    Ok(())
}
```

## Related

<CardGroup cols={2}>
  <Card title="Agent" icon="robot" href="/docs/rust/agent">
    Create agents that use tools
  </Card>
  <Card title="LLM" icon="brain" href="/docs/rust/llm">
    Configure LLM providers
  </Card>
  <Card title="Agent Flow" icon="diagram-project" href="/docs/rust/agent-flow">
    Chain agents with tools
  </Card>
  <Card title="MCP" icon="plug" href="/docs/rust/mcp">
    Model Context Protocol tools
  </Card>
</CardGroup>
