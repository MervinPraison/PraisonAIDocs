---
title: "Thinking"
sidebarTitle: "Thinking"
description: "Extended thinking and reasoning budgets in the PraisonAI Rust SDK"
icon: "brain"
---

# Thinking

The Thinking module provides configurable thinking budgets for LLM reasoning, controlling token and time allocation for extended thinking.

## Quick Start

```rust
use praisonai::thinking::{ThinkingBudget, BudgetLevel};

// Create a medium budget
let budget = ThinkingBudget::from_level(BudgetLevel::Medium);
println!("Tokens: {}", budget.max_tokens);

// Custom budget
let custom = ThinkingBudget::new()
    .max_tokens(10000)
    .adaptive(true)
    .build();
```

## BudgetLevel

Predefined budget levels:

| Level | Tokens | Use Case |
|-------|--------|----------|
| `Minimal` | 1,000 | Quick responses |
| `Low` | 4,000 | Simple tasks |
| `Medium` | 8,000 | Standard tasks |
| `High` | 16,000 | Complex reasoning |
| `Maximum` | 32,000 | Deep analysis |

```rust
use praisonai::thinking::BudgetLevel;

let level = BudgetLevel::High;
println!("Tokens: {}", level.tokens());  // 16000
```

## ThinkingBudget

Budget constraints for extended thinking:

```rust
use praisonai::thinking::ThinkingBudget;

// From level
let budget = ThinkingBudget::high();

// Custom with builder
let custom = ThinkingBudget::new()
    .max_tokens(12000)
    .max_time_seconds(60.0)
    .adaptive(true)
    .min_tokens(2000)
    .complexity_multiplier(1.5)
    .build();

// Quick shortcuts
let minimal = ThinkingBudget::minimal();
let medium = ThinkingBudget::medium();
let maximum = ThinkingBudget::maximum();
```

### Budget Fields

| Field | Type | Description |
|-------|------|-------------|
| `max_tokens` | usize | Max thinking tokens |
| `max_time_seconds` | f64 | Time limit |
| `adaptive` | bool | Auto-adjust budget |
| `min_tokens` | usize | Min for adaptive |
| `complexity_multiplier` | f64 | Scale by complexity |

### Complexity-Based Tokens

```rust
use praisonai::thinking::ThinkingBudget;

let budget = ThinkingBudget::new()
    .max_tokens(10000)
    .min_tokens(2000)
    .adaptive(true)
    .build();

// Low complexity task
let simple_tokens = budget.get_tokens_for_complexity(0.2);
println!("Simple: {} tokens", simple_tokens);  // ~3600

// High complexity task
let complex_tokens = budget.get_tokens_for_complexity(0.9);
println!("Complex: {} tokens", complex_tokens);  // ~9200
```

## ThinkingConfig

Configuration for thinking behavior:

```rust
use praisonai::thinking::{ThinkingConfig, ThinkingMode};

let config = ThinkingConfig::new()
    .mode(ThinkingMode::Extended)
    .budget(ThinkingBudget::high())
    .show_thinking(true)
    .chain_of_thought(true)
    .self_reflection(true)
    .step_by_step(true);

println!("Mode: {:?}", config.mode);
println!("Show thinking: {}", config.show_thinking);
```

### ThinkingMode

| Mode | Description |
|------|-------------|
| `Default` | Standard thinking |
| `Extended` | Deep reasoning |
| `Minimal` | Quick responses |
| `None` | No extended thinking |

## ThinkingProcessor

Process thinking in responses:

```rust
use praisonai::thinking::{ThinkingProcessor, ThinkingConfig};

let config = ThinkingConfig::new()
    .show_thinking(false)  // Hide from output
    .chain_of_thought(true);

let processor = ThinkingProcessor::new(config);

// Extract thinking from response
let response = "Let me think... [thinking]First, consider...[/thinking] The answer is X.";
let (thinking, answer) = processor.extract(response);

println!("Thinking: {:?}", thinking);  // Some("First, consider...")
println!("Answer: {}", answer);        // "The answer is X."
```

## Example: Agent with Thinking Budget

```rust
use praisonai::{Agent, Result};
use praisonai::thinking::{ThinkingBudget, ThinkingConfig, BudgetLevel};

#[tokio::main]
async fn main() -> Result<()> {
    // Configure thinking
    let config = ThinkingConfig::new()
        .budget(ThinkingBudget::high())
        .chain_of_thought(true)
        .self_reflection(true);
    
    // Create agent with thinking config
    let agent = Agent::new()
        .name("thinker")
        .instructions("You are a thoughtful analyst")
        .thinking(config)
        .build()?;
    
    // Complex task requiring deep thought
    let result = agent.chat(
        "Analyze the pros and cons of different programming paradigms"
    ).await?;
    
    println!("{}", result);
    
    Ok(())
}
```

## Example: Adaptive Budgeting

```rust
use praisonai::thinking::{ThinkingBudget, ComplexityEstimator};

// Estimate task complexity
let estimator = ComplexityEstimator::new();
let complexity = estimator.estimate("Explain quantum computing in simple terms");
println!("Complexity: {:.2}", complexity);  // e.g., 0.65

// Create adaptive budget
let budget = ThinkingBudget::new()
    .max_tokens(16000)
    .min_tokens(4000)
    .adaptive(true)
    .complexity_multiplier(1.2)
    .build();

// Get tokens for this complexity
let tokens = budget.get_tokens_for_complexity(complexity);
println!("Allocated tokens: {}", tokens);
```

## Serialization

```rust
use praisonai::thinking::ThinkingBudget;

let budget = ThinkingBudget::high();

// To map
let map = budget.to_map();
println!("{:?}", map);

// To JSON
let json = serde_json::to_string(&budget)?;
```

## Related

<CardGroup cols={2}>
  <Card title="Agent" icon="robot" href="/docs/rust/agent">
    Agent API
  </Card>
  <Card title="LLM" icon="microchip" href="/docs/rust/llm">
    LLM configuration
  </Card>
  <Card title="Context Management" icon="sliders" href="/docs/rust/context-management">
    Context budgets
  </Card>
  <Card title="Planning" icon="sitemap" href="/docs/rust/planning">
    Task planning
  </Card>
</CardGroup>
