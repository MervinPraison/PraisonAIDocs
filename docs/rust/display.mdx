---
title: "Display"
sidebarTitle: "Display"
description: "Display callbacks and UI integration in the PraisonAI Rust SDK"
icon: "display"
---

# Display

The Display module provides display callbacks and UI integration for agent interactions, enabling custom rendering of agent output, tool calls, and events.

## Quick Start

```rust
use praisonai::display::{
    DisplayEvent, DisplayType, 
    register_display_callback, emit_display
};

// Register a callback
register_display_callback(DisplayType::Interaction, |event| {
    println!("[{}] {}", event.agent_name.unwrap_or_default(), event.content);
});

// Emit events
emit_display(DisplayEvent::new(DisplayType::Interaction, "Hello, user!")
    .agent("assistant"));
```

## DisplayType

Types of display events:

| Type | Description |
|------|-------------|
| `Interaction` | Agent prompt/response |
| `SelfReflection` | Self-reflection output |
| `ToolCall` | Tool execution |
| `Error` | Error message |
| `Generating` | Generation status |
| `Instruction` | Instruction display |
| `Reasoning` | Reasoning steps |
| `Working` | Working animation |

## DisplayEvent

Event data for display callbacks:

```rust
use praisonai::display::{DisplayEvent, DisplayType};

// Basic event
let event = DisplayEvent::new(DisplayType::Interaction, "Hello!");

// With agent
let agent_event = DisplayEvent::new(DisplayType::Interaction, "Response text")
    .agent("researcher");

// Tool call event
let tool_event = DisplayEvent::new(DisplayType::ToolCall, "Executing search...")
    .tool("web_search")
    .args(serde_json::json!({"query": "AI trends"}))
    .result("Found 10 results");

// Error event
let error_event = DisplayEvent::new(DisplayType::Error, "Operation failed")
    .error("Connection timeout");

// With metadata
let meta_event = DisplayEvent::new(DisplayType::Generating, "Processing...")
    .meta("tokens", 150)
    .meta("model", "gpt-4");
```

### DisplayEvent Fields

| Field | Type | Description |
|-------|------|-------------|
| `display_type` | DisplayType | Event type |
| `content` | String | Main content |
| `agent_name` | Option | Agent name |
| `tool_name` | Option | Tool name |
| `tool_args` | Option | Tool arguments |
| `tool_result` | Option | Tool result |
| `error_message` | Option | Error details |
| `metadata` | HashMap | Additional data |

## Callback Registration

### Synchronous Callbacks

```rust
use praisonai::display::{register_display_callback, DisplayType, DisplayEvent};

// Handle interactions
register_display_callback(DisplayType::Interaction, |event: DisplayEvent| {
    println!("{}: {}", 
        event.agent_name.unwrap_or("Agent".into()),
        event.content
    );
});

// Handle tool calls
register_display_callback(DisplayType::ToolCall, |event: DisplayEvent| {
    println!("ğŸ”§ {} -> {}", 
        event.tool_name.unwrap_or_default(),
        event.tool_result.unwrap_or_default()
    );
});

// Handle errors
register_display_callback(DisplayType::Error, |event: DisplayEvent| {
    eprintln!("âŒ Error: {}", event.error_message.unwrap_or(event.content));
});
```

### Async Callbacks

```rust
use praisonai::display::{register_async_display_callback, DisplayType, DisplayEvent};

register_async_display_callback(DisplayType::Interaction, |event: DisplayEvent| {
    Box::pin(async move {
        // Async operations (e.g., logging to service)
        log_to_service(&event).await;
    })
});
```

## ColorPalette

Default PraisonAI color palette for UI consistency:

```rust
use praisonai::display::PRAISON_COLORS;

println!("Agent color: {}", PRAISON_COLORS.agent);       // #86A789
println!("Task color: {}", PRAISON_COLORS.task);         // #FF9B9B
println!("Working color: {}", PRAISON_COLORS.working);   // #FFB347
println!("Error color: {}", PRAISON_COLORS.error);       // #FF6B6B
println!("Tool color: {}", PRAISON_COLORS.tool);         // #82C3EC
```

### Color Properties

| Property | Value | Use |
|----------|-------|-----|
| `agent` | #86A789 | Agent headers |
| `agent_text` | #D2E3C8 | Agent text |
| `task` | #FF9B9B | Task headers |
| `task_text` | #FFE5E5 | Task text |
| `working` | #FFB347 | Working status |
| `error` | #FF6B6B | Error messages |
| `tool` | #82C3EC | Tool calls |
| `instruction` | #C9B1FF | Instructions |
| `reasoning` | #B4D4EE | Reasoning |

## Emit Functions

Convenience functions for emitting events:

```rust
use praisonai::display::{
    emit_interaction, emit_tool_call, emit_error, 
    emit_working, emit_reasoning
};

// Agent interaction
emit_interaction("assistant", "Here's my response...");

// Tool call
emit_tool_call("web_search", 
    serde_json::json!({"query": "test"}), 
    "Found 5 results");

// Error
emit_error("Connection failed");

// Working status
emit_working("Processing query...");

// Reasoning
emit_reasoning("Let me think about this step by step...");
```

## Approval Callbacks

Handle approval for sensitive operations:

```rust
use praisonai::display::{
    register_approval_callback, request_approval,
    ApprovalDecision, RiskLevel
};

// Register approval handler
register_approval_callback(|tool_name, args, risk_level| {
    match risk_level {
        RiskLevel::Low => ApprovalDecision::Approved,
        RiskLevel::Medium => {
            println!("Approve {}? [y/n]", tool_name);
            // Get user input...
            ApprovalDecision::Approved
        }
        RiskLevel::High => {
            println!("HIGH RISK: {} with {:?}", tool_name, args);
            ApprovalDecision::Denied("User denied high-risk operation".into())
        }
    }
});

// Request approval
let decision = request_approval(
    "delete_file",
    &serde_json::json!({"path": "/important.txt"}),
    RiskLevel::High
);

match decision {
    ApprovalDecision::Approved => println!("Executing..."),
    ApprovalDecision::Denied(reason) => println!("Denied: {}", reason),
}
```

## Example: Custom UI

```rust
use praisonai::display::{
    register_display_callback, DisplayType, DisplayEvent, PRAISON_COLORS
};

fn setup_ui_callbacks() {
    // Rich interaction display
    register_display_callback(DisplayType::Interaction, |event| {
        println!("\nâ•­â”€ ğŸ¤– {} â”€â•®", event.agent_name.unwrap_or("Agent".into()));
        println!("â”‚ {}", event.content);
        println!("â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯\n");
    });
    
    // Tool call with spinner
    register_display_callback(DisplayType::ToolCall, |event| {
        let tool = event.tool_name.unwrap_or_default();
        println!("âš™ï¸  Calling {}...", tool);
        if let Some(result) = event.tool_result {
            println!("   â””â”€â”€ Result: {}", result);
        }
    });
    
    // Working animation
    register_display_callback(DisplayType::Working, |event| {
        print!("\râ³ {}...", event.content);
    });
    
    // Error highlighting
    register_display_callback(DisplayType::Error, |event| {
        eprintln!("\nâŒ ERROR: {}", event.error_message.unwrap_or(event.content));
    });
}

fn main() {
    setup_ui_callbacks();
    
    // Now all agent activity will use custom UI
}
```

## Related

<CardGroup cols={2}>
  <Card title="Streaming" icon="wave-pulse" href="/docs/rust/streaming">
    Real-time streaming
  </Card>
  <Card title="Hooks" icon="webhook" href="/docs/rust/hooks">
    Event hooks
  </Card>
  <Card title="Agent" icon="robot" href="/docs/rust/agent">
    Agent API
  </Card>
  <Card title="Tools" icon="wrench" href="/docs/rust/tools">
    Tool system
  </Card>
</CardGroup>
