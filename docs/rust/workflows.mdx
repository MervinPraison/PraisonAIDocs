---
title: "Workflows"
sidebarTitle: "Workflows"
description: "Multi-agent workflow patterns in the PraisonAI Rust SDK"
icon: "sitemap"
---

# Workflows

The Workflows module provides multi-agent coordination patterns including sequential, parallel, and hierarchical execution.

## Quick Start

```rust
use praisonai::workflows::{AgentTeam, Process, WorkflowContext};
use praisonai::Agent;

let researcher = Agent::new().instructions("Research topics").build()?;
let writer = Agent::new().instructions("Write content").build()?;

let team = AgentTeam::new()
    .agent(researcher)
    .agent(writer)
    .process(Process::Sequential)
    .build();

let result = team.start("Research and write about AI").await?;
println!("{}", result);
```

## Process

Workflow execution patterns:

| Process | Description |
|---------|-------------|
| `Sequential` | Agents run one after another |
| `Parallel` | Agents run simultaneously |
| `Hierarchical` | Manager coordinates workers |

```rust
use praisonai::workflows::Process;

let sequential = Process::Sequential;
let parallel = Process::Parallel;
let hierarchical = Process::Hierarchical;
```

## StepResult

Result from a workflow step:

```rust
use praisonai::workflows::StepResult;

// Success
let success = StepResult::success("researcher", "Found 10 articles...");
println!("Agent: {}", success.agent);
println!("Output: {}", success.output.unwrap());
println!("Success: {}", success.success);

// Failure
let failure = StepResult::failure("writer", "Connection timeout");
println!("Error: {}", failure.error.unwrap());
```

## WorkflowContext

Context passed between agents:

```rust
use praisonai::workflows::{WorkflowContext, StepResult};

let mut ctx = WorkflowContext::new();

// Set variables
ctx.set("topic", "artificial intelligence");
ctx.set("max_words", "500");

// Get variables
if let Some(topic) = ctx.get("topic") {
    println!("Topic: {}", topic);
}

// Track results
ctx.add_result(StepResult::success("researcher", "Research complete"));
ctx.add_result(StepResult::success("writer", "Article written"));

// Get last result
if let Some(last) = ctx.last_result() {
    println!("Last agent: {}", last.agent);
}
```

## AgentTeam

Coordinate multiple agents:

```rust
use praisonai::workflows::{AgentTeam, Process};
use praisonai::Agent;

// Create agents
let researcher = Agent::new()
    .name("researcher")
    .instructions("Research topics thoroughly")
    .build()?;

let analyst = Agent::new()
    .name("analyst")
    .instructions("Analyze research findings")
    .build()?;

let writer = Agent::new()
    .name("writer")
    .instructions("Write clear, engaging content")
    .build()?;

// Build team
let team = AgentTeam::new()
    .agent(researcher)
    .agent(analyst)
    .agent(writer)
    .process(Process::Sequential)
    .verbose(true)
    .build();

// Run workflow
let result = team.start("Write a report on AI trends").await?;
println!("Final output: {}", result);

// Team info
println!("Team size: {}", team.len());
println!("Is empty: {}", team.is_empty());
```

### Execution Methods

```rust
use praisonai::workflows::{AgentTeam, Process};

let team = AgentTeam::new()
    .agent(agent1)
    .agent(agent2)
    .build();

// Sequential (default)
let result = team.run_sequential("task").await?;

// Parallel - all agents work simultaneously
let result = team.run_parallel("task").await?;

// Hierarchical - first agent manages others
let result = team.run_hierarchical("task").await?;

// Or use start() which respects Process setting
let result = team.start("task").await?;
```

## AgentTeamBuilder

Build teams with fluent API:

```rust
use praisonai::workflows::{AgentTeam, Process};

let team = AgentTeam::new()
    .name("Research Team")
    .agent(researcher)
    .agent(writer)
    .task("Research and document findings")
    .process(Process::Sequential)
    .max_iterations(3)
    .verbose(true)
    .context(initial_context)
    .build();
```

### Builder Options

| Method | Description |
|--------|-------------|
| `name(n)` | Team name |
| `agent(a)` | Add an agent |
| `agents(vec)` | Add multiple agents |
| `task(t)` | Default task |
| `process(p)` | Execution pattern |
| `max_iterations(n)` | Max loops |
| `verbose(b)` | Enable logging |
| `context(ctx)` | Initial context |

## Workflow Patterns

### Sequential Pipeline

```rust
let pipeline = AgentTeam::new()
    .agent(fetcher)     // 1. Fetch data
    .agent(processor)   // 2. Process data
    .agent(formatter)   // 3. Format output
    .process(Process::Sequential)
    .build();

// Each agent receives output from previous
let result = pipeline.start("Process the dataset").await?;
```

### Parallel Processing

```rust
let parallel_team = AgentTeam::new()
    .agent(analyzer1)   // Analyzes aspect 1
    .agent(analyzer2)   // Analyzes aspect 2
    .agent(analyzer3)   // Analyzes aspect 3
    .process(Process::Parallel)
    .build();

// All agents work simultaneously, results combined
let result = parallel_team.start("Analyze from multiple angles").await?;
```

### Hierarchical Management

```rust
let managed_team = AgentTeam::new()
    .agent(manager)     // Manager - delegates and coordinates
    .agent(worker1)     // Worker 1
    .agent(worker2)     // Worker 2
    .agent(worker3)     // Worker 3
    .process(Process::Hierarchical)
    .build();

// Manager decides which workers to use
let result = managed_team.start("Complete this complex task").await?;
```

## Example: Research Pipeline

```rust
use praisonai::{Agent, Result};
use praisonai::workflows::{AgentTeam, Process, WorkflowContext};

#[tokio::main]
async fn main() -> Result<()> {
    // Create specialized agents
    let researcher = Agent::new()
        .name("researcher")
        .instructions("You research topics and find key information")
        .build()?;
    
    let analyst = Agent::new()
        .name("analyst")
        .instructions("You analyze information and identify insights")
        .build()?;
    
    let writer = Agent::new()
        .name("writer")
        .instructions("You write clear, engaging summaries")
        .build()?;
    
    // Build pipeline
    let pipeline = AgentTeam::new()
        .name("Research Pipeline")
        .agent(researcher)
        .agent(analyst)
        .agent(writer)
        .process(Process::Sequential)
        .verbose(true)
        .build();
    
    // Execute
    let result = pipeline.start("Research the impact of AI on healthcare").await?;
    
    println!("\n=== Final Report ===\n{}", result);
    
    Ok(())
}
```

## Related

<CardGroup cols={2}>
  <Card title="Agent Team" icon="people-group" href="/docs/rust/agent-team">
    Team configuration
  </Card>
  <Card title="Agent Flow" icon="diagram-project" href="/docs/rust/agent-flow">
    Flow patterns
  </Card>
  <Card title="Handoffs" icon="arrows-repeat" href="/docs/rust/handoffs">
    Agent transitions
  </Card>
  <Card title="Tasks" icon="list-check" href="/docs/rust/tasks">
    Task management
  </Card>
</CardGroup>
