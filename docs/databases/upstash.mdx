---
title: "Upstash"
description: "Upstash Redis state store for PraisonAI"
icon: "cloud"
---

# Upstash

Serverless Redis from Upstash.

## Setup

```bash
pip install upstash-redis
export UPSTASH_REDIS_REST_URL=your_url
export UPSTASH_REDIS_REST_TOKEN=your_token
```

## Quick Start (Agent)

Use Upstash for state persistence with an agent:

```python
from praisonaiagents import Agent, db
import os

agent = Agent(
    name="Assistant",
    instructions="You are a helpful assistant.",
    db=db(
        database_url="postgresql://localhost/mydb",
        state_url=f"upstash://{os.getenv('UPSTASH_REDIS_REST_URL')}"
    ),
    session_id="my-session"
)

agent.chat("Hello!")
```

## Advanced Usage (Direct Store)

```python
from praisonai.persistence.factory import create_state_store

store = create_state_store(
    "upstash",
    url="https://your-endpoint.upstash.io",
    token="your_token"
)

store.set("session:123", {"messages": []}, ttl=3600)
state = store.get("session:123")
```
