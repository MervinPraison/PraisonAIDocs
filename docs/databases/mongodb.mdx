---
title: "MongoDB"
description: "MongoDB state store for PraisonAI"
icon: "leaf"
---

# MongoDB

Document-based state storage with MongoDB.

## Setup

```bash
# Docker
docker run -d -p 27017:27017 mongo

# Install driver
pip install pymongo
```

## Quick Start (Agent)

Use MongoDB for state persistence with an agent:

```python
from praisonaiagents import Agent, db

# Create agent with MongoDB state store
agent = Agent(
    name="Assistant",
    instructions="You are a helpful assistant.",
    db=db(
        database_url="postgresql://localhost/mydb",
        state_url="mongodb://localhost:27017/praisonai"
    ),
    session_id="my-session"
)

agent.chat("Hello!")
```

## Advanced Usage (Direct Store)

```python
from praisonai.persistence.factory import create_state_store

store = create_state_store(
    "mongodb",
    url="mongodb://localhost:27017/praisonai"
)

# Store state
store.set("user:123", {"name": "Alice", "preferences": {}})

# Retrieve state
state = store.get("user:123")
```

## CLI

```bash
praisonai persistence doctor --state-url "mongodb://localhost:27017/praisonai"
```

## Configuration

| Option | Description |
|--------|-------------|
| `url` | MongoDB connection URL |
| `database` | Database name (default: `praisonai`) |
| `collection` | Collection name (default: `state`) |
