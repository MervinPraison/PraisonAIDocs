---
title: "Scheduler CLI"
sidebarTitle: "Scheduler"
description: "Schedule agents to run continuously 24/7 at regular intervals"
icon: "clock"
---

The Scheduler CLI enables 24/7 autonomous agent operations by running agents at regular intervals.

## Quick Start

```bash
# Schedule an agent to run every hour
praisonai schedule --interval hourly --task "Check latest AI news"
```

## Installation

```bash
pip install praisonai praisonaiagents
export OPENAI_API_KEY=your_key_here
```

## Basic Usage

### Schedule with Interval

```bash
# Every hour
praisonai schedule --interval hourly --task "Monitor system status"

# Every 30 minutes
praisonai schedule --interval "*/30m" --task "Collect data"

# Every 6 hours
praisonai schedule --interval "*/6h" --task "Generate report"

# Daily
praisonai schedule --interval daily --task "Daily summary"
```

### Schedule with YAML Config

```bash
praisonai schedule --config scheduler_config.yaml
```

**scheduler_config.yaml:**
```yaml
agent:
  name: "AI News Monitor"
  role: "Technology News Analyst"
  goal: "Monitor and summarize AI news"
  instructions: "Search for latest AI developments"
  tools:
    - search_tool
  verbose: true

task: "Search for latest AI news and provide top 3 stories"

schedule:
  interval: "hourly"
  max_retries: 3
  run_immediately: true
```

## Command Options

| Option | Type | Description | Example |
|--------|------|-------------|---------|
| `--interval` | string | Schedule interval | `hourly`, `*/30m` |
| `--task` | string | Task description | `"Check news"` |
| `--config` | path | YAML config file | `config.yaml` |
| `--agent-name` | string | Agent name | `"NewsChecker"` |
| `--agent-role` | string | Agent role | `"Analyst"` |
| `--tools` | string | Comma-separated tools | `"search,calculator"` |
| `--max-retries` | int | Max retry attempts | `3` |
| `--run-now` | flag | Run immediately | - |
| `--verbose` | flag | Verbose logging | - |

## Schedule Intervals

| Format | Interval | Description |
|--------|----------|-------------|
| `hourly` | 3600s | Every hour |
| `daily` | 86400s | Every 24 hours |
| `*/30m` | 1800s | Every 30 minutes |
| `*/6h` | 21600s | Every 6 hours |
| `*/5s` | 5s | Every 5 seconds (testing) |
| `3600` | 3600s | Custom seconds |

## Examples

### News Monitoring

```bash
praisonai schedule \
  --interval hourly \
  --task "Search for latest AI news and summarize top 3 stories" \
  --agent-name "NewsMonitor" \
  --tools "search" \
  --run-now
```

### Data Collection

```bash
praisonai schedule \
  --interval "*/30m" \
  --task "Collect market data and analyze trends" \
  --max-retries 5 \
  --verbose
```

### Daily Reports

```bash
praisonai schedule \
  --interval daily \
  --task "Generate daily summary report" \
  --agent-name "ReportGenerator"
```

### Testing

```bash
# Quick test with 10-second interval
praisonai schedule \
  --interval "*/10s" \
  --task "Test task" \
  --run-now \
  --verbose
```

## Python API

For programmatic control, use the Python API:

```python
from praisonaiagents import Agent
from praisonai.scheduler import AgentScheduler

# Create agent
agent = Agent(
    name="NewsChecker",
    instructions="Check latest AI news",
    tools=[search_tool]
)

# Create scheduler
scheduler = AgentScheduler(
    agent=agent,
    task="Search for latest AI news"
)

# Start (runs every hour)
scheduler.start("hourly", max_retries=3, run_immediately=True)

# Keep running
try:
    while scheduler.is_running:
        import time
        time.sleep(1)
except KeyboardInterrupt:
    scheduler.stop()
    print(scheduler.get_stats())
```

## Features

- **Multiple Schedule Formats** - hourly, daily, custom intervals
- **Automatic Retry** - Exponential backoff on failures
- **Statistics Tracking** - Monitor success rates
- **Graceful Shutdown** - Clean stop with Ctrl+C
- **Callbacks** - Success/failure notifications
- **Thread-Safe** - Daemon threads for background execution

## Output

```bash
ü§ñ Starting 24/7 AI News Checker Agent
============================================================
Agent: AI News Monitor
Task: Search for latest AI news
Schedule: Every 1 hour
============================================================

‚è∞ Starting scheduler... (Press Ctrl+C to stop)

[2025-12-20 19:00:00] Starting scheduled agent execution
[2025-12-20 19:00:05] Agent execution successful
[2025-12-20 19:00:05] Next execution in 3600 seconds (1.0 hours)

# On stop (Ctrl+C)
üõë Stopping scheduler...

üìä Final Statistics:
  Total Executions: 5
  Successful: 5
  Failed: 0
  Success Rate: 100.0%

‚úÖ Agent stopped successfully
```

## Error Handling

The scheduler automatically retries failed executions with exponential backoff:

- **Attempt 1:** Execute immediately
- **Attempt 2:** Wait 30s, retry
- **Attempt 3:** Wait 60s, retry
- **Attempt 4:** Wait 90s, retry
- **Attempt 5:** Wait 120s, retry

## Stopping the Scheduler

Press `Ctrl+C` to stop gracefully. The scheduler will:
1. Set stop event
2. Wait for current execution (max 10s)
3. Log final statistics
4. Exit cleanly

## See Also

- [Planning Mode](/docs/cli/planning) - Add planning to scheduled agents
- [Memory](/docs/cli/memory) - Enable memory for scheduled agents
- [Tools](/docs/cli/tools) - Add custom tools to agents
- [Examples](https://github.com/MervinPraison/PraisonAI/tree/main/examples/python/scheduled_agents) - Working examples
