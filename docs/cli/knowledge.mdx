---
title: "Knowledge CLI"
sidebarTitle: "Knowledge"
description: "Manage RAG/vector store knowledge bases with advanced retrieval strategies"
icon: "book"
---

The `knowledge` command manages document knowledge bases with support for multiple vector stores, retrieval strategies, rerankers, and query modes.

## Quick Start

```bash
# List knowledge sources
praisonai knowledge list
```

<Frame>
  <img src="./knowledge-list-knowledge.gif" alt="List knowledge example" />
</Frame>

```bash
# Add a document
praisonai knowledge add document.pdf

# Query knowledge base with RAG
praisonai knowledge query "API authentication"

# Query with advanced options
praisonai knowledge query "How to authenticate?" --retrieval fusion --reranker llm
```

## Commands

### Add Documents

```bash
# Add a single file
praisonai knowledge add document.pdf

# Add a directory
praisonai knowledge add ./docs/

# Add a URL
praisonai knowledge add https://example.com/docs.html

# Add with glob pattern
praisonai knowledge add "*.pdf"
```

**Expected Output:**
```
ğŸ“š Adding documents to knowledge base...

âœ… Added: document.pdf
   â€¢ Pages: 45
   â€¢ Chunks: 128
   â€¢ Vectors: 128

Knowledge base updated successfully!
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Metric              â”‚ Value        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Total Documents     â”‚ 12           â”‚
â”‚ Total Chunks        â”‚ 1,456        â”‚
â”‚ Storage Size        â”‚ 24.5 MB      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Query Knowledge Base

```bash
# Basic query
praisonai knowledge query "How to authenticate API requests"

# Query with specific vector store
praisonai knowledge query "authentication" --vector-store chroma

# Query with fusion retrieval (multi-query)
praisonai knowledge query "How to authenticate?" --retrieval fusion

# Query with LLM reranking
praisonai knowledge query "API auth" --reranker llm

# Query with sub-question decomposition
praisonai knowledge query "What is Python and how to install it?" --query-mode sub_question

# Full advanced query
praisonai knowledge query "authentication flow" \
  --vector-store chroma \
  --retrieval fusion \
  --reranker llm \
  --index-type hybrid \
  --query-mode sub_question
```

**Expected Output:**
```
ğŸ” Querying knowledge base...

Found 5 relevant results:

1. [score: 0.95] api-docs.pdf (page 23)
   "Authentication is handled via Bearer tokens. Include the token
   in the Authorization header: Authorization: Bearer <token>"

2. [score: 0.87] security-guide.md (section 3.2)
   "All API requests must be authenticated. Unauthenticated requests
   will receive a 401 Unauthorized response."

3. [score: 0.82] quickstart.txt (line 45)
   "To get started, first obtain an API key from the dashboard..."
```

### List Documents

```bash
praisonai knowledge list
```

**Expected Output:**
```
ğŸ“š Knowledge Base Contents:

â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ #  â”‚ Document            â”‚ Type     â”‚ Chunks â”‚ Added               â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ api-docs.pdf        â”‚ PDF      â”‚ 234    â”‚ 2024-12-15 10:30    â”‚
â”‚ 2  â”‚ security-guide.md   â”‚ Markdown â”‚ 45     â”‚ 2024-12-15 10:32    â”‚
â”‚ 3  â”‚ quickstart.txt      â”‚ Text     â”‚ 12     â”‚ 2024-12-15 10:33    â”‚
â”‚ 4  â”‚ faq.md              â”‚ Markdown â”‚ 28     â”‚ 2024-12-16 09:15    â”‚
â”‚ 5  â”‚ architecture.pdf    â”‚ PDF      â”‚ 156    â”‚ 2024-12-16 14:20    â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Total: 5 documents, 475 chunks
```

### Show Knowledge Base Info

```bash
praisonai knowledge info
```

**Expected Output:**
```
ğŸ“Š Knowledge Base Information:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Property                â”‚ Value                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Location                â”‚ .praison/knowledge/        â”‚
â”‚ Vector Store            â”‚ ChromaDB                   â”‚
â”‚ Embedding Model         â”‚ text-embedding-3-small     â”‚
â”‚ Total Documents         â”‚ 5                          â”‚
â”‚ Total Chunks            â”‚ 475                        â”‚
â”‚ Total Vectors           â”‚ 475                        â”‚
â”‚ Storage Size            â”‚ 12.3 MB                    â”‚
â”‚ Last Updated            â”‚ 2024-12-16 14:20:00        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Clear Knowledge Base

```bash
# Clear all documents
praisonai knowledge clear
```

**Expected Output:**
```
âš ï¸  This will delete all documents from the knowledge base.
Are you sure? (y/N): y

ğŸ—‘ï¸  Clearing knowledge base...
âœ… Knowledge base cleared successfully!
```

### Show Statistics

```bash
praisonai knowledge stats
```

**Expected Output:**
```
ğŸ“Š Knowledge Base Statistics:
  workspace: /path/to/project
  vector_store: chroma
  retrieval_strategy: basic
  reranker: none
  index_type: vector
  query_mode: default
  document_count: 5
```

### Export Knowledge Base

```bash
# Export to default timestamped file
praisonai knowledge export

# Export to specific file
praisonai knowledge export backup.json

# Export to specific path
praisonai knowledge export /path/to/knowledge_backup.json
```

**Expected Output:**
```
âœ… Exported 12 documents to knowledge_export_20241226_103045.json
```

### Import Knowledge Base

```bash
# Import from JSON file
praisonai knowledge import backup.json

# Import from specific path
praisonai knowledge import /path/to/knowledge_backup.json
```

**Expected Output:**
```
âœ… Imported 12 documents from backup.json
```

### Help

```bash
praisonai knowledge help
```

**Expected Output:**
```
Knowledge Commands:
  praisonai knowledge add <file|dir|url>   - Add document(s) to knowledge base
  praisonai knowledge query <question>     - Query knowledge base with RAG
  praisonai knowledge list                 - List indexed documents
  praisonai knowledge clear                - Clear knowledge base
  praisonai knowledge stats                - Show knowledge base statistics
  praisonai knowledge export <file.json>   - Export knowledge base to JSON file
  praisonai knowledge import <file.json>   - Import knowledge base from JSON file

Options:
  --workspace <path>           - Workspace directory (default: current)
  --vector-store <name>        - Vector store: chroma, pinecone, qdrant, weaviate, memory
  --retrieval <strategy>       - Retrieval: basic, fusion, recursive, auto_merge
  --reranker <name>            - Reranker: simple, llm, cross_encoder, cohere
  --index-type <type>          - Index: vector, keyword, hybrid
  --query-mode <mode>          - Query: default, sub_question, summarize
  --session <id>               - Session ID for persistence
  --db <path>                  - Database path for persistence
```

## Advanced Options Reference

### Vector Stores

| Store | Description | Requirements |
|-------|-------------|--------------|
| `memory` | In-memory (default, no persistence) | None |
| `chroma` | ChromaDB local vector store | `pip install chromadb` |
| `pinecone` | Pinecone cloud vector store | `PINECONE_API_KEY` |
| `qdrant` | Qdrant vector database | `pip install qdrant-client` |
| `weaviate` | Weaviate vector database | `pip install weaviate-client` |

### Retrieval Strategies

| Strategy | Description |
|----------|-------------|
| `basic` | Simple vector similarity search (default) |
| `fusion` | Multi-query with Reciprocal Rank Fusion |
| `recursive` | Depth-limited recursive retrieval |
| `auto_merge` | Merges adjacent chunks from same document |

### Rerankers

| Reranker | Description | Requirements |
|----------|-------------|--------------|
| `simple` | Keyword-based scoring (default) | None |
| `llm` | LLM-based relevance scoring | `OPENAI_API_KEY` |
| `cross_encoder` | Cross-encoder model | `pip install sentence-transformers` |
| `cohere` | Cohere Rerank API | `COHERE_API_KEY` |

### Index Types

| Type | Description |
|------|-------------|
| `vector` | Vector similarity index (default) |
| `keyword` | BM25 keyword index |
| `hybrid` | Combined vector + keyword |

### Query Modes

| Mode | Description |
|------|-------------|
| `default` | Standard RAG query |
| `sub_question` | Decomposes complex questions |
| `summarize` | Summarizes retrieved context |

## Supported File Types

| Type | Extensions | Description |
|------|------------|-------------|
| PDF | `.pdf` | PDF documents with text extraction |
| Markdown | `.md`, `.mdx` | Markdown files |
| Text | `.txt` | Plain text files |
| Code | `.py`, `.js`, `.ts`, etc. | Source code files |
| HTML | `.html`, `.htm` | Web pages |
| JSON | `.json` | JSON documents |
| CSV | `.csv` | Tabular data |
| URL | `http://`, `https://` | Web pages |

## Use Cases

### Documentation Search

```bash
# Add project documentation
praisonai knowledge add ./docs/

# Query documentation
praisonai "How do I configure the database?" --knowledge
```

### Code Understanding

```bash
# Add codebase
praisonai knowledge add ./src/

# Ask about code
praisonai "Explain the authentication flow" --knowledge
```

### Research Assistant

```bash
# Add research papers
praisonai knowledge add ./papers/

# Query research
praisonai knowledge search "machine learning optimization techniques"
```

## Using Knowledge with Agents

Once documents are added, agents can automatically query the knowledge base:

```bash
# Enable knowledge for agent
praisonai "Answer based on the documentation" --knowledge
```

**Expected Output:**
```
ğŸ“š Knowledge base enabled (5 documents)

â•­â”€ Agent Info â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  ğŸ‘¤ Agent: DirectAgent                                                       â”‚
â”‚  Role: Assistant                                                             â”‚
â”‚  ğŸ“š Knowledge: 5 documents, 475 chunks                                      â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Response â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ Based on the documentation, here's how to configure the database:            â”‚
â”‚                                                                              â”‚
â”‚ 1. Set the DATABASE_URL environment variable...                             â”‚
â”‚ [Response based on knowledge base content]                                   â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

ğŸ“– Sources:
  â€¢ api-docs.pdf (page 12)
  â€¢ quickstart.txt (section 2)
```

## Best Practices

<Tip>
Organize documents by topic in separate directories for better search relevance.
</Tip>

<Warning>
Large documents are automatically chunked. Very large knowledge bases may increase response latency.
</Warning>

<CardGroup cols={2}>
  <Card title="Document Quality">
    Use well-structured documents with clear headings
  </Card>
  <Card title="Regular Updates">
    Keep knowledge base updated with latest documentation
  </Card>
  <Card title="Specific Queries">
    Use specific search terms for better results
  </Card>
  <Card title="Organize by Topic">
    Group related documents together
  </Card>
</CardGroup>

## Related

- [Knowledge Concept](/concepts/knowledge)
- [RAG Features](/features/rag)
- [Fast Context CLI](/docs/cli/fast-context)
