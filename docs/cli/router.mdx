---
title: "Router"
sidebarTitle: "Router"
description: "Smart model selection based on task complexity"
icon: "route"
---

The `--router` flag enables intelligent model selection, automatically choosing the best model based on task complexity.

## Quick Start

```bash
praisonai "Simple question" --router
```

## Usage

### Basic Router

```bash
praisonai "What is 2+2?" --router
```

**Expected Output:**
```
ğŸ¯ Task complexity: simple
ğŸ¤– Selected model: gpt-4o-mini

â•­â”€ Agent Info â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  ğŸ‘¤ Agent: DirectAgent                                                       â”‚
â”‚  Role: Assistant                                                             â”‚
â”‚  ğŸ¤– Model: gpt-4o-mini (auto-selected)                                      â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Response â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ 2 + 2 equals 4.                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

### Complex Task

```bash
praisonai "Analyze the implications of quantum computing on cryptography and provide a detailed technical assessment" --router
```

**Expected Output:**
```
ğŸ¯ Task complexity: complex
ğŸ¤– Selected model: gpt-4-turbo

â•­â”€ Agent Info â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  ğŸ‘¤ Agent: DirectAgent                                                       â”‚
â”‚  Role: Assistant                                                             â”‚
â”‚  ğŸ¤– Model: gpt-4-turbo (auto-selected)                                      â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Response â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ # Quantum Computing Impact on Cryptography                                   â”‚
â”‚                                                                              â”‚
â”‚ ## Executive Summary                                                         â”‚
â”‚ Quantum computing poses significant challenges to current cryptographic...   â”‚
â”‚                                                                              â”‚
â”‚ ## Technical Analysis                                                        â”‚
â”‚ ### 1. Vulnerable Algorithms                                                 â”‚
â”‚ - RSA: Shor's algorithm can factor large numbers in polynomial time...      â”‚
â”‚ [Detailed technical analysis continues...]                                   â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

### Specify Provider

```bash
# Prefer Anthropic models
praisonai "Complex analysis" --router --router-provider anthropic

# Prefer OpenAI models
praisonai "Simple task" --router --router-provider openai
```

**Expected Output:**
```
ğŸ¯ Task complexity: complex
ğŸ¢ Provider preference: anthropic
ğŸ¤– Selected model: claude-3-opus-20240229

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Response â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ [Response from Claude 3 Opus]                                                â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

### Combine with Other Features

```bash
# Router with metrics (see cost savings)
praisonai "Quick question" --router --metrics

# Router with planning
praisonai "Complex project" --router --planning

# Router with guardrail
praisonai "Generate code" --router --guardrail "Follow best practices"
```

## How It Works

```mermaid
flowchart LR
    A[Prompt] --> B[Complexity Analysis]
    B --> C{Complexity Level}
    C -->|Simple| D[Fast/Cheap Model]
    C -->|Medium| E[Balanced Model]
    C -->|Complex| F[Powerful Model]
    D --> G[Execute]
    E --> G
    F --> G
```

1. **Prompt Analysis**: The router analyzes your prompt
2. **Complexity Assessment**: Determines task complexity (simple/medium/complex)
3. **Model Selection**: Chooses appropriate model based on complexity
4. **Execution**: Runs the task with the selected model

## Complexity Levels

| Level | Indicators | Model Selection |
|-------|------------|-----------------|
| **Simple** | Short questions, basic math, simple lookups | gpt-4o-mini, claude-3-haiku |
| **Medium** | Explanations, summaries, moderate analysis | gpt-4o, claude-3-sonnet |
| **Complex** | Deep analysis, code generation, research | gpt-4-turbo, claude-3-opus |

## Model Selection Matrix

### OpenAI Models

| Complexity | Model | Cost (per 1M tokens) |
|------------|-------|---------------------|
| Simple | gpt-4o-mini | $0.15 / $0.60 |
| Medium | gpt-4o | $2.50 / $10.00 |
| Complex | gpt-4-turbo | $10.00 / $30.00 |

### Anthropic Models

| Complexity | Model | Cost (per 1M tokens) |
|------------|-------|---------------------|
| Simple | claude-3-haiku | $0.25 / $1.25 |
| Medium | claude-3-sonnet | $3.00 / $15.00 |
| Complex | claude-3-opus | $15.00 / $75.00 |

## Cost Savings Example

Without router (always using gpt-4-turbo):
```bash
praisonai "What is Python?" --metrics
# Tokens: 150, Cost: $0.0045
```

With router (auto-selects gpt-4o-mini):
```bash
praisonai "What is Python?" --router --metrics
# Tokens: 150, Cost: $0.0001
# Savings: 97%
```

**Expected Output:**
```
ğŸ¯ Task complexity: simple
ğŸ¤– Selected model: gpt-4o-mini
ğŸ’° Estimated savings: 97% vs gpt-4-turbo

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Response â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ Python is a high-level, interpreted programming language known for its       â”‚
â”‚ simple syntax and readability...                                             â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

ğŸ“Š Metrics:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Metric              â”‚ Value        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Model               â”‚ gpt-4o-mini  â”‚
â”‚ Total Tokens        â”‚ 150          â”‚
â”‚ Estimated Cost      â”‚ $0.0001      â”‚
â”‚ vs gpt-4-turbo      â”‚ $0.0045      â”‚
â”‚ Savings             â”‚ 97%          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Use Cases

### Cost Optimization

```bash
# Let router choose the most cost-effective model
praisonai "Answer user questions" --router --metrics
```

### Quality Assurance

```bash
# Ensure complex tasks get powerful models
praisonai "Write a comprehensive security audit" --router
```

### Batch Processing

```bash
# Process many queries efficiently
for query in "${queries[@]}"; do
  praisonai "$query" --router
done
```

## Complexity Indicators

The router considers these factors:

<CardGroup cols={2}>
  <Card title="Simple Tasks">
    - Short prompts (< 50 words)
    - Basic questions
    - Simple calculations
    - Factual lookups
    - Yes/no questions
  </Card>
  <Card title="Complex Tasks">
    - Long prompts (> 200 words)
    - Technical analysis
    - Code generation
    - Multi-step reasoning
    - Creative writing
    - Research tasks
  </Card>
</CardGroup>

## Best Practices

<Tip>
Use `--router --metrics` to see the cost savings from automatic model selection.
</Tip>

<Warning>
The router adds a small overhead for complexity analysis. For known simple tasks, you may prefer to specify the model directly with `--llm`.
</Warning>

<CardGroup cols={2}>
  <Card title="Cost Monitoring">
    Use `--metrics` to track savings
  </Card>
  <Card title="Provider Preference">
    Use `--router-provider` for specific needs
  </Card>
  <Card title="Override When Needed">
    Use `--llm` to override router selection
  </Card>
  <Card title="Batch Operations">
    Router is ideal for varied batch tasks
  </Card>
</CardGroup>

## Related

- [Model Router Feature](/features/model-router)
- [Metrics CLI](/docs/cli/metrics)
- [Models](/models)
