---
title: "Context Compaction"
sidebarTitle: "Compaction"
description: "Automatic context window management"
icon: "compress"
---

The `compaction` command manages context window compaction settings.

## Quick Start

```bash
# Show compaction status
praisonai compaction status
```

## Usage

### Show Status

```bash
praisonai compaction status
```

**Expected Output:**
```
╭─ Context Compaction ─────────────────────────────────────────────────────────╮
│  Strategy: sliding                                                           │
│  Max Tokens: 8,000                                                           │
│  Preserve Recent: 3 messages                                                 │
╰──────────────────────────────────────────────────────────────────────────────╯
```

### Set Strategy

```bash
praisonai compaction set sliding
```

Available strategies: `truncate`, `sliding`, `summarize`, `smart`

### Show Stats

```bash
praisonai compaction stats
```

## Python API

```python
from praisonaiagents.compaction import (
    ContextCompactor, CompactionStrategy
)

compactor = ContextCompactor(
    max_tokens=4000,
    strategy=CompactionStrategy.SLIDING,
    preserve_recent=3
)

messages = [...]  # Your conversation history
compacted, result = compactor.compact(messages)

print(f"Compression: {result.compression_ratio:.1%}")
```

## See Also

- [Context Compaction Feature](/docs/features/context-compaction)
