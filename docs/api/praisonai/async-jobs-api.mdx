---
title: "Async Jobs API"
sidebarTitle: "Async Jobs API"
description: "HTTP API endpoints for async job management"
icon: "code"
---

## Endpoints

### Submit Job

```
POST /api/v1/runs
```

**Request:**
```json
{
  "prompt": "Your task",
  "agent_file": "agents.yaml",
  "framework": "praisonai",
  "timeout": 3600,
  "webhook_url": "https://example.com/callback",
  "session_id": "project-alpha"
}
```

**Response (202 Accepted):**
```json
{
  "job_id": "run_abc123",
  "status": "queued",
  "created_at": "2025-01-01T00:00:00Z",
  "poll_url": "http://localhost:8005/api/v1/runs/run_abc123",
  "stream_url": "http://localhost:8005/api/v1/runs/run_abc123/stream"
}
```

**Headers:**
- `Location`: Poll URL
- `Retry-After`: Seconds before first poll
- `Idempotency-Key`: Prevent duplicates

### Get Status

```
GET /api/v1/runs/{job_id}
```

**Response:**
```json
{
  "job_id": "run_abc123",
  "status": "running",
  "progress": {
    "percentage": 50.0,
    "current_step": "Processing"
  },
  "created_at": "2025-01-01T00:00:00Z"
}
```

### Get Result

```
GET /api/v1/runs/{job_id}/result
```

**Response:**
```json
{
  "job_id": "run_abc123",
  "status": "succeeded",
  "result": "Task output",
  "duration_seconds": 3.45
}
```

### Cancel Job

```
POST /api/v1/runs/{job_id}/cancel
```

**Response:**
```json
{
  "job_id": "run_abc123",
  "status": "cancelled"
}
```

### List Jobs

```
GET /api/v1/runs?status=running&page=1&page_size=20
```

**Response:**
```json
{
  "jobs": [...],
  "total": 100,
  "page": 1,
  "page_size": 20
}
```

### Stream Progress (SSE)

```
GET /api/v1/runs/{job_id}/stream
```

**Response (text/event-stream):**
```
data: {"event": "progress", "data": {"percentage": 50}}
data: {"event": "complete", "data": {"status": "succeeded"}}
data: [DONE]
```

### Delete Job

```
DELETE /api/v1/runs/{job_id}
```

**Response:** 204 No Content

### Health Check

```
GET /health
```

**Response:**
```json
{"status": "healthy"}
```

### Stats

```
GET /stats
```

**Response:**
```json
{
  "total_jobs": 100,
  "by_status": {"queued": 5, "running": 2, "succeeded": 90}
}
```

## Status Values

- `queued` - Job waiting to start
- `running` - Job in progress
- `succeeded` - Job completed successfully
- `failed` - Job failed with error
- `cancelled` - Job was cancelled
